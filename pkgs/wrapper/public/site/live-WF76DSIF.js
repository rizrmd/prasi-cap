import{a as Lt,b as k,c as Qe,e as Te,f as Ss,h as te,i as Re,j as R,m as Cs,o as De,p as Ae,q as Yr}from"./chunk-G2XPISRL.js";var Xr=Lt((et,Ot)=>{(function(n,e){"use strict";var t="1.0.36",r="",i="?",o="function",s="undefined",c="object",l="string",f="major",a="model",h="name",d="type",u="vendor",p="version",g="architecture",C="console",w="mobile",m="tablet",N="smarttv",O="wearable",Je="embedded",Ke=350,Et="Amazon",Ye="Apple",Vr="ASUS",Fr="BlackBerry",Ee="Browser",Nt="Chrome",xs="Edge",Tt="Firefox",Rt="Google",Br="Huawei",yn="LG",bn="Microsoft",jr="Motorola",Dt="Opera",xn="Samsung",$r="Sharp",At="Sony",ul="Viera",_n="Xiaomi",kn="Zebra",Gr="Facebook",zr="Chromium OS",qr="Mac OS",_s=function(x,v){var b={};for(var I in x)v[I]&&v[I].length%2===0?b[I]=v[I].concat(x[I]):b[I]=x[I];return b},Ut=function(x){for(var v={},b=0;b<x.length;b++)v[x[b].toUpperCase()]=x[b];return v},Hr=function(x,v){return typeof x===l?Xe(v).indexOf(Xe(x))!==-1:!1},Xe=function(x){return x.toLowerCase()},ks=function(x){return typeof x===l?x.replace(/[^\d\.]/g,r).split(".")[0]:e},vn=function(x,v){if(typeof x===l)return x=x.replace(/^\s\s*/,r),typeof v===s?x:x.substring(0,Ke)},Ze=function(x,v){for(var b=0,I,oe,H,_,y,W;b<v.length&&!y;){var Cn=v[b],Kr=v[b+1];for(I=oe=0;I<Cn.length&&!y&&Cn[I];)if(y=Cn[I++].exec(x),y)for(H=0;H<Kr.length;H++)W=y[++oe],_=Kr[H],typeof _===c&&_.length>0?_.length===2?typeof _[1]==o?this[_[0]]=_[1].call(this,W):this[_[0]]=_[1]:_.length===3?typeof _[1]===o&&!(_[1].exec&&_[1].test)?this[_[0]]=W?_[1].call(this,W,_[2]):e:this[_[0]]=W?W.replace(_[1],_[2]):e:_.length===4&&(this[_[0]]=W?_[3].call(this,W.replace(_[1],_[2])):e):this[_]=W||e;b+=2}},Sn=function(x,v){for(var b in v)if(typeof v[b]===c&&v[b].length>0){for(var I=0;I<v[b].length;I++)if(Hr(v[b][I],x))return b===i?e:b}else if(Hr(v[b],x))return b===i?e:b;return x},vs={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Wr={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Jr={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,p],[/opios[\/ ]+([\w\.]+)/i],[p,[h,Dt+" Mini"]],[/\bopr\/([\w\.]+)/i],[p,[h,Dt]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[h,p],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[h,"UC"+Ee]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[p,[h,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[p,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[h,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[p,[h,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure "+Ee],p],[/\bfocus\/([\w\.]+)/i],[p,[h,Tt+" Focus"]],[/\bopt\/([\w\.]+)/i],[p,[h,Dt+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[h,Dt+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[h,"MIUI "+Ee]],[/fxios\/([-\w\.]+)/i],[p,[h,Tt]],[/\bqihu|(qi?ho?o?|360)browser/i],[[h,"360 "+Ee]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1 "+Ee],p],[/(comodo_dragon)\/([\w\.]+)/i],[[h,/_/g," "],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[h,p],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,Gr],p],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[h,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[h,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[p,[h,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[h,Nt+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,Nt+" WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[h,"Android "+Ee]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,p],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[p,[h,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[p,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[p,Sn,vs]],[/(webkit|khtml)\/([\w\.]+)/i],[h,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[h,Tt+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[h,p],[/(cobalt)\/([\w\.]+)/i],[h,[p,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,Xe]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,r,Xe]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,Xe]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[a,[u,xn],[d,m]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[a,[u,xn],[d,w]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[a,[u,Ye],[d,w]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[a,[u,Ye],[d,m]],[/(macintosh);/i],[a,[u,Ye]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[a,[u,$r],[d,w]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[a,[u,Br],[d,m]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[a,[u,Br],[d,w]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[a,/_/g," "],[u,_n],[d,w]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[a,/_/g," "],[u,_n],[d,m]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[a,[u,"OPPO"],[d,w]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[a,[u,"Vivo"],[d,w]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[a,[u,"Realme"],[d,w]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[a,[u,jr],[d,w]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[a,[u,jr],[d,m]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[a,[u,yn],[d,m]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[a,[u,yn],[d,w]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[a,[u,"Lenovo"],[d,m]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[a,/_/g," "],[u,"Nokia"],[d,w]],[/(pixel c)\b/i],[a,[u,Rt],[d,m]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[a,[u,Rt],[d,w]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[a,[u,At],[d,w]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[a,"Xperia Tablet"],[u,At],[d,m]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[a,[u,"OnePlus"],[d,w]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[a,[u,Et],[d,m]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[a,/(.+)/g,"Fire Phone $1"],[u,Et],[d,w]],[/(playbook);[-\w\),; ]+(rim)/i],[a,u,[d,m]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[a,[u,Fr],[d,w]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[a,[u,Vr],[d,m]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[a,[u,Vr],[d,w]],[/(nexus 9)/i],[a,[u,"HTC"],[d,m]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[u,[a,/_/g," "],[d,w]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[a,[u,"Acer"],[d,m]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[a,[u,"Meizu"],[d,w]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[u,a,[d,w]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[u,a,[d,m]],[/(surface duo)/i],[a,[u,bn],[d,m]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[a,[u,"Fairphone"],[d,w]],[/(u304aa)/i],[a,[u,"AT&T"],[d,w]],[/\bsie-(\w*)/i],[a,[u,"Siemens"],[d,w]],[/\b(rct\w+) b/i],[a,[u,"RCA"],[d,m]],[/\b(venue[\d ]{2,7}) b/i],[a,[u,"Dell"],[d,m]],[/\b(q(?:mv|ta)\w+) b/i],[a,[u,"Verizon"],[d,m]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[a,[u,"Barnes & Noble"],[d,m]],[/\b(tm\d{3}\w+) b/i],[a,[u,"NuVision"],[d,m]],[/\b(k88) b/i],[a,[u,"ZTE"],[d,m]],[/\b(nx\d{3}j) b/i],[a,[u,"ZTE"],[d,w]],[/\b(gen\d{3}) b.+49h/i],[a,[u,"Swiss"],[d,w]],[/\b(zur\d{3}) b/i],[a,[u,"Swiss"],[d,m]],[/\b((zeki)?tb.*\b) b/i],[a,[u,"Zeki"],[d,m]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[u,"Dragon Touch"],a,[d,m]],[/\b(ns-?\w{0,9}) b/i],[a,[u,"Insignia"],[d,m]],[/\b((nxa|next)-?\w{0,9}) b/i],[a,[u,"NextBook"],[d,m]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[u,"Voice"],a,[d,w]],[/\b(lvtel\-)?(v1[12]) b/i],[[u,"LvTel"],a,[d,w]],[/\b(ph-1) /i],[a,[u,"Essential"],[d,w]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[a,[u,"Envizen"],[d,m]],[/\b(trio[-\w\. ]+) b/i],[a,[u,"MachSpeed"],[d,m]],[/\btu_(1491) b/i],[a,[u,"Rotor"],[d,m]],[/(shield[\w ]+) b/i],[a,[u,"Nvidia"],[d,m]],[/(sprint) (\w+)/i],[u,a,[d,w]],[/(kin\.[onetw]{3})/i],[[a,/\./g," "],[u,bn],[d,w]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[a,[u,kn],[d,m]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[a,[u,kn],[d,w]],[/smart-tv.+(samsung)/i],[u,[d,N]],[/hbbtv.+maple;(\d+)/i],[[a,/^/,"SmartTV"],[u,xn],[d,N]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[u,yn],[d,N]],[/(apple) ?tv/i],[u,[a,Ye+" TV"],[d,N]],[/crkey/i],[[a,Nt+"cast"],[u,Rt],[d,N]],[/droid.+aft(\w+)( bui|\))/i],[a,[u,Et],[d,N]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[a,[u,$r],[d,N]],[/(bravia[\w ]+)( bui|\))/i],[a,[u,At],[d,N]],[/(mitv-\w{5}) bui/i],[a,[u,_n],[d,N]],[/Hbbtv.*(technisat) (.*);/i],[u,a,[d,N]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[u,vn],[a,vn],[d,N]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[d,N]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[u,a,[d,C]],[/droid.+; (shield) bui/i],[a,[u,"Nvidia"],[d,C]],[/(playstation [345portablevi]+)/i],[a,[u,At],[d,C]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[a,[u,bn],[d,C]],[/((pebble))app/i],[u,a,[d,O]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[a,[u,Ye],[d,O]],[/droid.+; (glass) \d/i],[a,[u,Rt],[d,O]],[/droid.+; (wt63?0{2,3})\)/i],[a,[u,kn],[d,O]],[/(quest( 2| pro)?)/i],[a,[u,Gr],[d,O]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[u,[d,Je]],[/(aeobc)\b/i],[a,[u,Et],[d,Je]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[a,[d,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[a,[d,m]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[d,m]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[d,w]],[/(android[-\w\. ]{0,9});.+buil/i],[a,[u,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[h,xs+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[h,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,p],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[h,[p,Sn,Wr]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[h,"Windows"],[p,Sn,Wr]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,qr],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[p,h],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[h,p],[/\(bb(10);/i],[p,[h,Fr]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[p,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[h,Tt+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[h,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[p,[h,"watchOS"]],[/crkey\/([\d\.]+)/i],[p,[h,Nt+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[h,zr],p],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,p],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[h,p]]},G=function(x,v){if(typeof x===c&&(v=x,x=e),!(this instanceof G))return new G(x,v).getResult();var b=typeof n!==s&&n.navigator?n.navigator:e,I=x||(b&&b.userAgent?b.userAgent:r),oe=b&&b.userAgentData?b.userAgentData:e,H=v?_s(Jr,v):Jr,_=b&&b.userAgent==I;return this.getBrowser=function(){var y={};return y[h]=e,y[p]=e,Ze.call(y,I,H.browser),y[f]=ks(y[p]),_&&b&&b.brave&&typeof b.brave.isBrave==o&&(y[h]="Brave"),y},this.getCPU=function(){var y={};return y[g]=e,Ze.call(y,I,H.cpu),y},this.getDevice=function(){var y={};return y[u]=e,y[a]=e,y[d]=e,Ze.call(y,I,H.device),_&&!y[d]&&oe&&oe.mobile&&(y[d]=w),_&&y[a]=="Macintosh"&&b&&typeof b.standalone!==s&&b.maxTouchPoints&&b.maxTouchPoints>2&&(y[a]="iPad",y[d]=m),y},this.getEngine=function(){var y={};return y[h]=e,y[p]=e,Ze.call(y,I,H.engine),y},this.getOS=function(){var y={};return y[h]=e,y[p]=e,Ze.call(y,I,H.os),_&&!y[h]&&oe&&oe.platform!="Unknown"&&(y[h]=oe.platform.replace(/chrome os/i,zr).replace(/macos/i,qr)),y},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return I},this.setUA=function(y){return I=typeof y===l&&y.length>Ke?vn(y,Ke):y,this},this.setUA(I),this};G.VERSION=t,G.BROWSER=Ut([h,p,f]),G.CPU=Ut([g]),G.DEVICE=Ut([a,u,d,C,w,N,m,O,Je]),G.ENGINE=G.OS=Ut([h,p]),typeof et!==s?(typeof Ot!==s&&Ot.exports&&(et=Ot.exports=G),et.UAParser=G):typeof define===o&&define.amd?define(function(){return G}):typeof n!==s&&(n.UAParser=G);var Ne=typeof n!==s&&(n.jQuery||n.Zepto);if(Ne&&!Ne.ua){var Mt=new G;Ne.ua=Mt.getResult(),Ne.ua.get=function(){return Mt.getUA()},Ne.ua.set=function(x){Mt.setUA(x);var v=Mt.getResult();for(var b in v)Ne.ua[b]=v[b]}}})(typeof window=="object"?window:et)});var gi=Lt((xl,pi)=>{var Ts="Expected a function",si="__lodash_hash_undefined__",ci=1/0,Rs="[object Function]",Ds="[object GeneratorFunction]",As="[object Symbol]",Us=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ms=/^\w*$/,Ls=/^\./,Os=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ps=/[\\^$.*+?()[\]{}|]/g,Vs=/\\(\\)?/g,Fs=/^\[object .+?Constructor\]$/,Bs=typeof global=="object"&&global&&global.Object===Object&&global,js=typeof self=="object"&&self&&self.Object===Object&&self,En=Bs||js||Function("return this")();function $s(n,e){return n?.[e]}function Gs(n){var e=!1;if(n!=null&&typeof n.toString!="function")try{e=!!(n+"")}catch{}return e}var zs=Array.prototype,qs=Function.prototype,ai=Object.prototype,In=En["__core-js_shared__"],ni=function(){var n=/[^.]+$/.exec(In&&In.keys&&In.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),li=qs.toString,Nn=ai.hasOwnProperty,di=ai.toString,Hs=RegExp("^"+li.call(Nn).replace(Ps,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ri=En.Symbol,Ws=zs.splice,Js=ui(En,"Map"),tt=ui(Object,"create"),ii=ri?ri.prototype:void 0,oi=ii?ii.toString:void 0;function ye(n){var e=-1,t=n?n.length:0;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}function Ks(){this.__data__=tt?tt(null):{}}function Ys(n){return this.has(n)&&delete this.__data__[n]}function Xs(n){var e=this.__data__;if(tt){var t=e[n];return t===si?void 0:t}return Nn.call(e,n)?e[n]:void 0}function Zs(n){var e=this.__data__;return tt?e[n]!==void 0:Nn.call(e,n)}function Qs(n,e){var t=this.__data__;return t[n]=tt&&e===void 0?si:e,this}ye.prototype.clear=Ks;ye.prototype.delete=Ys;ye.prototype.get=Xs;ye.prototype.has=Zs;ye.prototype.set=Qs;function Le(n){var e=-1,t=n?n.length:0;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}function ec(){this.__data__=[]}function tc(n){var e=this.__data__,t=Pt(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():Ws.call(e,t,1),!0}function nc(n){var e=this.__data__,t=Pt(e,n);return t<0?void 0:e[t][1]}function rc(n){return Pt(this.__data__,n)>-1}function ic(n,e){var t=this.__data__,r=Pt(t,n);return r<0?t.push([n,e]):t[r][1]=e,this}Le.prototype.clear=ec;Le.prototype.delete=tc;Le.prototype.get=nc;Le.prototype.has=rc;Le.prototype.set=ic;function be(n){var e=-1,t=n?n.length:0;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}function oc(){this.__data__={hash:new ye,map:new(Js||Le),string:new ye}}function sc(n){return Vt(this,n).delete(n)}function cc(n){return Vt(this,n).get(n)}function ac(n){return Vt(this,n).has(n)}function lc(n,e){return Vt(this,n).set(n,e),this}be.prototype.clear=oc;be.prototype.delete=sc;be.prototype.get=cc;be.prototype.has=ac;be.prototype.set=lc;function Pt(n,e){for(var t=n.length;t--;)if(xc(n[t][0],e))return t;return-1}function dc(n,e){e=pc(e,n)?[e]:hc(e);for(var t=0,r=e.length;n!=null&&t<r;)n=n[yc(e[t++])];return t&&t==r?n:void 0}function uc(n){if(!hi(n)||mc(n))return!1;var e=_c(n)||Gs(n)?Hs:Fs;return e.test(bc(n))}function fc(n){if(typeof n=="string")return n;if(Rn(n))return oi?oi.call(n):"";var e=n+"";return e=="0"&&1/n==-ci?"-0":e}function hc(n){return fi(n)?n:wc(n)}function Vt(n,e){var t=n.__data__;return gc(e)?t[typeof e=="string"?"string":"hash"]:t.map}function ui(n,e){var t=$s(n,e);return uc(t)?t:void 0}function pc(n,e){if(fi(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||Rn(n)?!0:Ms.test(n)||!Us.test(n)||e!=null&&n in Object(e)}function gc(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function mc(n){return!!ni&&ni in n}var wc=Tn(function(n){n=vc(n);var e=[];return Ls.test(n)&&e.push(""),n.replace(Os,function(t,r,i,o){e.push(i?o.replace(Vs,"$1"):r||t)}),e});function yc(n){if(typeof n=="string"||Rn(n))return n;var e=n+"";return e=="0"&&1/n==-ci?"-0":e}function bc(n){if(n!=null){try{return li.call(n)}catch{}try{return n+""}catch{}}return""}function Tn(n,e){if(typeof n!="function"||e&&typeof e!="function")throw new TypeError(Ts);var t=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=t.cache;if(o.has(i))return o.get(i);var s=n.apply(this,r);return t.cache=o.set(i,s),s};return t.cache=new(Tn.Cache||be),t}Tn.Cache=be;function xc(n,e){return n===e||n!==n&&e!==e}var fi=Array.isArray;function _c(n){var e=hi(n)?di.call(n):"";return e==Rs||e==Ds}function hi(n){var e=typeof n;return!!n&&(e=="object"||e=="function")}function kc(n){return!!n&&typeof n=="object"}function Rn(n){return typeof n=="symbol"||kc(n)&&di.call(n)==As}function vc(n){return n==null?"":fc(n)}function Sc(n,e,t){var r=n==null?void 0:dc(n,e);return r===void 0?t:r}pi.exports=Sc});var Ri=Lt((Gl,se)=>{var{sha3_512:Ec}=Ss(),Si=24,it=32,Dn=(n=4,e=Math.random)=>{let t="";for(;t.length<n;)t=t+Math.floor(e()*36).toString(36);return t};function Ci(n){let e=8n,t=0n;for(let r of n.values()){let i=BigInt(r);t=(t<<e)+i}return t}var Ii=(n="")=>Ci(Ec(n)).toString(36).slice(1),vi=Array.from({length:26},(n,e)=>String.fromCharCode(e+97)),Nc=n=>vi[Math.floor(n()*vi.length)],Ei=({globalObj:n=typeof global<"u"?global:typeof window<"u"?window:{},random:e=Math.random}={})=>{let t=Object.keys(n).toString(),r=t.length?t+Dn(it,e):Dn(it,e);return Ii(r).substring(0,it)},Ni=n=>()=>n++,Tc=476782367,Ti=({random:n=Math.random,counter:e=Ni(Math.floor(n()*Tc)),length:t=Si,fingerprint:r=Ei({random:n})}={})=>function(){let o=Nc(n),s=Date.now().toString(36),c=e().toString(36),l=Dn(t,n),f=`${s+l+c+r}`;return`${o+Ii(f).substring(1,t)}`},Rc=Ti(),Dc=(n,{minLength:e=2,maxLength:t=it}={})=>{let r=n.length,i=/^[0-9a-z]+$/;try{if(typeof n=="string"&&r>=e&&r<=t&&i.test(n))return!0}finally{}return!1};se.exports.getConstants=()=>({defaultLength:Si,bigLength:it});se.exports.init=Ti;se.exports.createId=Rc;se.exports.bufToBigInt=Ci;se.exports.createCounter=Ni;se.exports.createFingerprint=Ei;se.exports.isCuid=Dc});var An=Lt((zl,ot)=>{var{createId:Ac,init:Uc,getConstants:Mc,isCuid:Lc}=Ri();ot.exports.createId=Ac;ot.exports.init=Uc;ot.exports.getConstants=Mc;ot.exports.isCuid=Lc});var wn=k(Qe()),bs=k(Xr());var Ue={NORMAL:0,WILDCARD:1,PLACEHOLDER:2};function Me(n={}){let e={options:n,rootNode:Qr(),staticRoutesMap:{}},t=r=>n.strictTrailingSlash?r:r.replace(/\/$/,"")||"/";if(n.routes)for(let r in n.routes)Zr(e,t(r),n.routes[r]);return{ctx:e,lookup:r=>Is(e,t(r)),insert:(r,i)=>Zr(e,t(r),i),remove:r=>Es(e,t(r))}}function Is(n,e){let t=n.staticRoutesMap[e];if(t)return t.data;let r=e.split("/"),i={},o=!1,s=null,c=n.rootNode,l=null;for(let f=0;f<r.length;f++){let a=r[f];c.wildcardChildNode!==null&&(s=c.wildcardChildNode,l=r.slice(f).join("/"));let h=c.children.get(a);if(h!==void 0)c=h;else if(c=c.placeholderChildNode,c!==null)i[c.paramName]=a,o=!0;else break}return(c===null||c.data===null)&&s!==null&&(c=s,i[c.paramName||"_"]=l,o=!0),c?o?{...c.data,params:o?i:void 0}:c.data:null}function Zr(n,e,t){let r=!0,i=e.split("/"),o=n.rootNode,s=0;for(let c of i){let l;if(l=o.children.get(c))o=l;else{let f=Ns(c);l=Qr({type:f,parent:o}),o.children.set(c,l),f===Ue.PLACEHOLDER?(l.paramName=c==="*"?`_${s++}`:c.slice(1),o.placeholderChildNode=l,r=!1):f===Ue.WILDCARD&&(o.wildcardChildNode=l,l.paramName=c.slice(3)||"_",r=!1),o=l}}return o.data=t,r===!0&&(n.staticRoutesMap[e]=o),o}function Es(n,e){let t=!1,r=e.split("/"),i=n.rootNode;for(let o of r)if(i=i.children.get(o),!i)return t;if(i.data){let o=r[r.length-1];if(i.data=null,Object.keys(i.children).length===0){let s=i.parent;s.children.delete(o),s.wildcardChildNode=null,s.placeholderChildNode=null}t=!0}return t}function Qr(n={}){return{type:n.type||Ue.NORMAL,parent:n.parent||null,children:new Map,data:n.data||null,paramName:n.paramName||null,wildcardChildNode:null,placeholderChildNode:null}}function Ns(n){return n.startsWith("**")?Ue.WILDCARD:n[0]===":"||n==="*"?Ue.PLACEHOLDER:Ue.NORMAL}var we={liveSync:{ws:null,init:!1,decompress:null},prod:!1,loader:void 0,mode:"",layout:{section:null,content:null},status:"init",site:{id:"",api_url:"",api_prasi:{port:"",db:""},responsive:"all",domain:"",name:"",js:"",js_compiled:""},page:null,mpage:null,mpageLoaded:null,pagePreload:{},pages:{},route:Me(),treePending:null,treeMeta:{},cachedParentID:{},portal:{},comps:{pending:{},resolve:{},all:{}},script:{db:null,api:null},compInstance:{},ws:null,wsRetry:{fast:!1,localIP:!1,disabled:!1,reconnecting:!1}};var pn=k(Qe());var P=(n,e,t,r)=>{let i=n[e];return t==="desktop"||!t?!i&&n.mobile&&n.mobile[e]&&(i=n.mobile[e]):n.mobile&&n.mobile[e]&&(i=n.mobile[e]),i||(i=r),i};var ei=(n,e)=>{let t=P(n,"adv",e,{});return typeof t.css=="string"&&t.css.trim()?cx(css`
          ${t.css}
        `,"cel",e):""};var ti=(n,e)=>{let t=P(n,"bg",e,{size:"contain",pos:"center"}),r=`${serverurl}${t.url}`;return t&&t.url&&t.url.startsWith("http")&&(r=t.url),cx(`
      background-repeat: no-repeat;
    `,t.color&&`
        background-color: ${t.color};
      `,t.url&&typeof siteApiUrl=="string"&&`
        background-image: url("${r}");
      `,t.size&&`
        background-size: ${t.size};
      `,t.pos&&`
        background-position: ${t.pos};
      `)};var mi=k(gi());var wi=(n,e)=>{let t=P(n,"border",e,{style:"solid",stroke:{},rounded:{tr:0,tl:0,bl:0,br:0},color:"transparent"});return cx(J(t,"stroke.l","border-left-width"),J(t,"stroke.r","border-right-width"),J(t,"stroke.b","border-bottom-width"),J(t,"stroke.t","border-top-width"),J(t,"color","border-color","transparent"),J(t,"style","border-style","dashed"),J(t,"rounded.tl","border-top-left-radius"),J(t,"rounded.tr","border-top-right-radius"),J(t,"rounded.bl","border-bottom-left-radius"),J(t,"rounded.br","border-bottom-right-radius"))},J=(n,e,t,r)=>{let i=(0,mi.default)(n,e);if(r)return i?`${t}: ${i};`:`${t}: ${r};`;if(i)return`${t}: ${i}px;`};var yi=(n,e,t)=>{let r=P(n,"dim",e,{h:"fit",w:"fit"});return r.w==="full"&&r.h==="full"?`
      width:100%;
      height:100%;
      flex:1;
    `:cx(r.w==="fit"&&`
        & > .txt-box > * {
          white-space: nowrap !important;
        }
      `,r.w==="full"&&`
        width: 100%;
      `,r.w&&typeof r.w=="number"&&r.w>=0&&`
        width: ${r.w}${r.wUnit||"px"};
        overflow-x: clip;
      `,r.h==="full"&&`
        height: ${t?"100%":"100"+(n.type==="section"?"vh":"%")};
        margin-bottom: auto;
      `,r.h&&typeof r.h=="number"&&r.h>=0&&`
        height: ${r.h}${r.hUnit||"px"};
        overflow-y: clip;
      `)};var bi=({item:n,hover:e,active:t})=>cx(e&&css`
        & {
          box-shadow: inset 0 0 0px 3px #bae3fd;
          > img {
            opacity: 0.6;
          }
        }
      `,t&&css`
        box-shadow: inset 0 0 0px 2px #009cff !important;
        > img {
          opacity: 0.6;
        }
      `);var Oe=window,xi=(n,e)=>{let t=P(n,"font",e,{});if(t.family){Oe.loadedFonts||(Oe.loadedFonts=[]);let r=`:wght@${[300,400,500,600].join(";")}`,i=t.family.replace(/ /g,"+");if(Oe.loadedFonts.indexOf(t.family)<0){Oe.loadedFonts.push(t.family);let o=document,s=`https://fonts.googleapis.com/css2?family=${i}${r}`;if(!o.querySelector(`link[href="${s}]`)){let c=o.createElement("link");c.type="text/css",c.rel="stylesheet",c.href=s,o.head.appendChild(c)}}}return!t.family&&Oe.defaultFont&&(t.family=Oe.defaultFont),cx(t.color&&`
        color: ${t.color};
      `,`
      word-break: ${t.whitespace==="whitespace-normal"?"break-word":"normal"};
    `,t.color&&`
        color: ${t.color};
      `,`
      text-align: ${t.align?t.align:"left"};
    `,t.size&&`
        font-size: ${t.size||15}px;
      `,t.height&&`
        line-height: ${t.height==="auto"?"normal":`${t.height}%`};
      `,t.family&&`
        font-family: ${t.family};
      `)};var _i=(n,e)=>{let t=[],r=P(n,"layout",e,{dir:"col",align:"top-left",gap:0,wrap:void 0});if(r)r.wrap&&t.push(r.wrap==="flex-wrap"?"flex-wrap: wrap;":"flex-wrap: nowrap;"),r.dir.startsWith("col")?(r.dir==="col"?t.push("flex-direction: column;"):r.dir==="col-reverse"&&t.push("flex-direction: column-reverse;"),r.gap==="auto"?(r.align==="left"&&t.push("align-items:start; justify-content: space-between;"),r.align==="center"&&t.push("align-items:center; justify-content: space-between;"),r.align==="right"&&t.push("align-items:end; justify-content: space-between;")):(t.push(`gap: ${r.gap}px;`),r.align==="top-left"&&t.push("align-items:start; justify-content: start;"),r.align==="top-center"&&t.push("align-items:center; justify-content: start;"),r.align==="top-right"&&t.push("align-items:end; justify-content: start;"),r.align==="left"&&t.push("align-items:start; justify-content: center;"),r.align==="center"&&t.push("align-items:center; justify-content: center;"),r.align==="right"&&t.push("align-items:end; justify-content: center;"),r.align==="bottom-left"&&t.push("align-items:start; justify-content: end;"),r.align==="bottom-center"&&t.push("align-items:center; justify-content: end;"),r.align==="bottom-right"&&t.push("align-items:end; justify-content: end;"))):(r.dir==="row"?t.push("flex-direction: row;"):r.dir==="row-reverse"&&t.push("flex-direction: row-reverse;"),r.gap==="auto"?(r.align==="top"&&t.push("align-items:start; justify-content: space-between;"),r.align==="center"&&t.push("align-items:center; justify-content: space-between;"),r.align==="bottom"&&t.push("align-items:end; justify-content: space-between;")):(t.push(`
            gap: ${r.gap}px;
          `),r.align==="top-left"&&t.push("align-items:start; justify-content: start;"),r.align==="top-center"&&t.push("align-items:start; justify-content: center;"),r.align==="top-right"&&t.push("align-items:start; justify-content: end;"),r.align==="left"&&t.push("align-items:center; justify-content: start;"),r.align==="center"&&t.push("align-items:center; justify-content: center;"),r.align==="right"&&t.push("align-items:center; justify-content: end;"),r.align==="bottom-left"&&t.push("align-items:end; justify-content: start;"),r.align==="bottom-center"&&t.push("align-items:end; justify-content: center;"),r.align==="bottom-right"&&t.push("align-items:end; justify-content: end;")));else return"flex-direction:column; align-items:start; justify-content: start;";return t.join(`
	`).trim()};var ki=(n,e)=>{let t=P(n,"padding",e,{l:0,b:0,t:0,r:0});return cx(t.l!==void 0&&`
        padding-left: ${t.l}px;
      `,t.r!==void 0&&`
        padding-right: ${t.r}px;
      `,t.b!==void 0&&`
        padding-bottom: ${t.b}px;
      `,t.t!==void 0&&`
        padding-top: ${t.t}px; 
      `)};var nt=(n,e)=>{try{return cx([n.name,css`
        display: flex;
        position: relative;
        user-select: none;
        ${_i(n,e.mode)}
        ${ki(n,e.mode)}
        ${yi(n,e.mode,e?.editor)}
        ${wi(n,e.mode)}
        ${ti(n,e.mode)}
        ${xi(n,e.mode)}
      `,(e?.hover||e?.active)&&bi({item:n,hover:e?.hover,active:e?.active}),ei(n,e.mode)])}catch(t){console.log(t)}return cx([])};var rt=window;function Cc(n){let e=document.createElement("a");return e.setAttribute("href",n),e.cloneNode(!1).href}function Ic(n){return n?new Promise((e,t)=>{let r="$importModule$"+Math.random().toString(32).slice(2),i=document.createElement("script"),o=()=>{delete window[r],i.onerror=null,i.onload=null,i.remove(),URL.revokeObjectURL(i.src),i.src=""};i.defer=!0,i.type="module",i.onerror=()=>{t(new Error(`Failed to import: ${n}`)),o()},i.onload=()=>{e(window[r]),o()};let c=`import * as m from "${Cc(n)}"; window.${r} = m;`,l=new Blob([c],{type:"text/javascript"});i.src=URL.createObjectURL(l),document.head.appendChild(i)}):""}var Pe=Ic;var Ho=k(An());var B=()=>new Map,Ft=n=>{let e=B();return n.forEach((t,r)=>{e.set(r,t)}),e},ce=(n,e,t)=>{let r=n.get(e);return r===void 0&&n.set(e,r=t()),r},Di=(n,e)=>{let t=[];for(let[r,i]of n)t.push(e(i,r));return t},Ai=(n,e)=>{for(let[t,r]of n)if(e(r,t))return!0;return!1};var ne=()=>new Set;var Bt=n=>n[n.length-1];var ae=Array.from;var Mn=Array.isArray;var jt=class{constructor(){this._observers=B()}on(e,t){ce(this._observers,e,ne).add(t)}once(e,t){let r=(...i)=>{this.off(e,r),t(...i)};this.on(e,r)}off(e,t){let r=this._observers.get(e);r!==void 0&&(r.delete(t),r.size===0&&this._observers.delete(e))}emit(e,t){return ae((this._observers.get(e)||B()).values()).forEach(r=>r(...t))}destroy(){this._observers=B()}};var K=Math.floor;var Ve=Math.abs;var $t=(n,e)=>n<e?n:e,le=(n,e)=>n>e?n:e,Hl=Number.isNaN;var Ui=n=>n!==0?n<0:1/n<0;var Wl=Number.MAX_SAFE_INTEGER,Jl=Number.MIN_SAFE_INTEGER,Kl=1<<31;var Mi=Number.isInteger||(n=>typeof n=="number"&&isFinite(n)&&K(n)===n),Yl=Number.isNaN,Xl=Number.parseInt;var Pc=String.fromCharCode,Zl=String.fromCodePoint,Ql=Pc(65535),Vc=n=>n.toLowerCase(),Fc=/^\s*/g,Bc=n=>n.replace(Fc,""),jc=/([A-Z])/g,Vn=(n,e)=>Bc(n.replace(jc,t=>`${e}${Vc(t)}`));var $c=n=>{let e=unescape(encodeURIComponent(n)),t=e.length,r=new Uint8Array(t);for(let i=0;i<t;i++)r[i]=e.codePointAt(i);return r},Fe=typeof TextEncoder<"u"?new TextEncoder:null,Gc=n=>Fe.encode(n),Li=Fe?Gc:$c;var Pn=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});Pn&&Pn.decode(new Uint8Array).length===1&&(Pn=null);var xe=class{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}},qt=()=>new xe;var Hc=n=>{let e=n.cpos;for(let t=0;t<n.bufs.length;t++)e+=n.bufs[t].length;return e};var Y=n=>{let e=new Uint8Array(Hc(n)),t=0;for(let r=0;r<n.bufs.length;r++){let i=n.bufs[r];e.set(i,t),t+=i.length}return e.set(new Uint8Array(n.cbuf.buffer,0,n.cpos),t),e},Wc=(n,e)=>{let t=n.cbuf.length;t-n.cpos<e&&(n.bufs.push(new Uint8Array(n.cbuf.buffer,0,n.cpos)),n.cbuf=new Uint8Array(le(t,e)*2),n.cpos=0)},U=(n,e)=>{let t=n.cbuf.length;n.cpos===t&&(n.bufs.push(n.cbuf),n.cbuf=new Uint8Array(t*2),n.cpos=0),n.cbuf[n.cpos++]=e};var Ht=U;var S=(n,e)=>{for(;e>127;)U(n,128|127&e),e=K(e/128);U(n,127&e)},Wt=(n,e)=>{let t=Ui(e);for(t&&(e=-e),U(n,(e>63?128:0)|(t?64:0)|63&e),e=K(e/64);e>0;)U(n,(e>127?128:0)|127&e),e=K(e/128)},Bn=new Uint8Array(3e4),Jc=Bn.length/3,Kc=(n,e)=>{if(e.length<Jc){let t=Fe.encodeInto(e,Bn).written||0;S(n,t);for(let r=0;r<t;r++)U(n,Bn[r])}else j(n,Li(e))},Yc=(n,e)=>{let t=unescape(encodeURIComponent(e)),r=t.length;S(n,r);for(let i=0;i<r;i++)U(n,t.codePointAt(i))},_e=Fe&&Fe.encodeInto?Kc:Yc;var Jt=(n,e)=>{let t=n.cbuf.length,r=n.cpos,i=$t(t-r,e.length),o=e.length-i;n.cbuf.set(e.subarray(0,i),r),n.cpos+=i,o>0&&(n.bufs.push(n.cbuf),n.cbuf=new Uint8Array(le(t*2,o)),n.cbuf.set(e.subarray(i)),n.cpos=o)},j=(n,e)=>{S(n,e.byteLength),Jt(n,e)},jn=(n,e)=>{Wc(n,e);let t=new DataView(n.cbuf.buffer,n.cpos,e);return n.cpos+=e,t},Xc=(n,e)=>jn(n,4).setFloat32(0,e,!1),Zc=(n,e)=>jn(n,8).setFloat64(0,e,!1),Qc=(n,e)=>jn(n,8).setBigInt64(0,e,!1);var Pi=new DataView(new ArrayBuffer(4)),ea=n=>(Pi.setFloat32(0,n),Pi.getFloat32(0)===n),Be=(n,e)=>{switch(typeof e){case"string":U(n,119),_e(n,e);break;case"number":Mi(e)&&Ve(e)<=2147483647?(U(n,125),Wt(n,e)):ea(e)?(U(n,124),Xc(n,e)):(U(n,123),Zc(n,e));break;case"bigint":U(n,122),Qc(n,e);break;case"object":if(e===null)U(n,126);else if(Mn(e)){U(n,117),S(n,e.length);for(let t=0;t<e.length;t++)Be(n,e[t])}else if(e instanceof Uint8Array)U(n,116),j(n,e);else{U(n,118);let t=Object.keys(e);S(n,t.length);for(let r=0;r<t.length;r++){let i=t[r];_e(n,i),Be(n,e[i])}}break;case"boolean":U(n,e?120:121);break;default:U(n,127)}},ct=class extends xe{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&S(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}};var Vi=n=>{n.count>0&&(Wt(n.encoder,n.count===1?n.s:-n.s),n.count>1&&S(n.encoder,n.count-2))},ke=class{constructor(){this.encoder=new xe,this.s=0,this.count=0}write(e){this.s===e?this.count++:(Vi(this),this.count=1,this.s=e)}toUint8Array(){return Vi(this),Y(this.encoder)}};var Fi=n=>{if(n.count>0){let e=n.diff*2+(n.count===1?0:1);Wt(n.encoder,e),n.count>1&&S(n.encoder,n.count-2)}},je=class{constructor(){this.encoder=new xe,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(Fi(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return Fi(this),Y(this.encoder)}},zt=class{constructor(){this.sarr=[],this.s="",this.lensE=new ke}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){let e=new xe;return this.sarr.push(this.s),this.s="",_e(e,this.sarr.join("")),Jt(e,this.lensE.toUint8Array()),Y(e)}};var ve=n=>new Error(n),q=()=>{throw ve("Method unimplemented")},de=()=>{throw ve("Unexpected case")};var td=crypto.subtle,Bi=crypto.getRandomValues.bind(crypto);var $n=()=>Bi(new Uint32Array(1))[0];var ra=[1e7]+-1e3+-4e3+-8e3+-1e11,ji=()=>ra.replace(/[018]/g,n=>(n^$n()&15>>n/4).toString(16));var $i=Date.now;var Gn=n=>new Promise(n);var id=Promise.all.bind(Promise);var zn=n=>n===void 0?null:n;var qn=class{constructor(){this.map=new Map}setItem(e,t){this.map.set(e,t)}getItem(e){return this.map.get(e)}},Gi=new qn,aa=!0;try{typeof localStorage<"u"&&localStorage&&(Gi=localStorage,aa=!1)}catch{}var zi=Gi;var Hi=Object.assign,da=Object.keys,Wi=(n,e)=>{for(let t in n)e(n[t],t)};var qi=n=>da(n).length;var Ji=n=>{for(let e in n)return!1;return!0},ua=(n,e)=>{for(let t in n)if(!e(n[t],t))return!1;return!0},fa=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),Ki=(n,e)=>n===e||qi(n)===qi(e)&&ua(n,(t,r)=>(t!==void 0||fa(e,r))&&e[r]===t);var at=(n,e,t=0)=>{try{for(;t<n.length;t++)n[t](...e)}finally{t<n.length&&at(n,e,t+1)}};var Yi=(n,e)=>e.includes(n);var lt=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]";var od=typeof navigator<"u"?/Mac/.test(navigator.platform):!1,X,pa=[],ga=()=>{if(X===void 0)if(lt){X=B();let n=process.argv,e=null;for(let t=0;t<n.length;t++){let r=n[t];r[0]==="-"?(e!==null&&X.set(e,""),e=r):e!==null?(X.set(e,r),e=null):pa.push(r)}e!==null&&X.set(e,"")}else typeof location=="object"?(X=B(),(location.search||"?").slice(1).split("&").forEach(n=>{if(n.length!==0){let[e,t]=n.split("=");X.set(`--${Vn(e,"-")}`,t),X.set(`-${Vn(e,"-")}`,t)}})):X=B();return X},Hn=n=>ga().has(n);var Wn=n=>lt?zn(process.env[n.toUpperCase()]):zn(zi.getItem(n));var ma=n=>Hn("--"+n)||Wn(n)!==null,sd=ma("production"),Zi=lt&&Yi(process.env.FORCE_COLOR,["true","1","2"]),Qi=!Hn("no-colors")&&(!lt||process.stdout.isTTY||Zi)&&(!lt||Hn("color")||Zi||Wn("COLORTERM")!==null||(Wn("TERM")||"").includes("color"));var Jn=class{constructor(e,t){this.left=e,this.right=t}},Z=(n,e)=>new Jn(n,e);var Se=typeof document<"u"?document:{};var cd=typeof DOMParser<"u"?new DOMParser:null;var eo=n=>Di(n,(e,t)=>`${t}:${e};`).join("");var ad=Se.ELEMENT_NODE,ld=Se.TEXT_NODE,dd=Se.CDATA_SECTION_NODE,ud=Se.COMMENT_NODE,fd=Se.DOCUMENT_NODE,hd=Se.DOCUMENT_TYPE_NODE,pd=Se.DOCUMENT_FRAGMENT_NODE;var Q=Symbol;var dt=Q(),ut=Q(),Kn=Q(),Yn=Q(),Xn=Q(),ft=Q(),Zn=Q(),ht=Q(),Qn=Q(),to=n=>{let e=[],t=[],r=0;for(;r<n.length;r++){let i=n[r];i.constructor===String||i.constructor===Number?e.push(i):i.constructor===Object&&t.push(JSON.stringify(i))}return t};var gd=$i();var ka={[dt]:Z("font-weight","bold"),[ut]:Z("font-weight","normal"),[Kn]:Z("color","blue"),[Xn]:Z("color","green"),[Yn]:Z("color","grey"),[ft]:Z("color","red"),[Zn]:Z("color","purple"),[ht]:Z("color","orange"),[Qn]:Z("color","black")},va=n=>{let e=[],t=[],r=B(),i=[],o=0;for(;o<n.length;o++){let s=n[o],c=ka[s];if(c!==void 0)r.set(c.left,c.right);else if(s.constructor===String||s.constructor===Number){let l=eo(r);o>0||l.length>0?(e.push("%c"+s),t.push(l)):e.push(s)}else break}for(o>0&&(i=t,i.unshift(e.join("")));o<n.length;o++){let s=n[o];s instanceof Symbol||i.push(s)}return i},Sa=Qi?va:to,no=(...n)=>{console.log(...Sa(n)),Ca.forEach(e=>e.print(n))};var Ca=ne();var ro=n=>({[Symbol.iterator](){return this},next:n}),io=(n,e)=>ro(()=>{let t;do t=n.next();while(!t.done&&!e(t.value));return t}),Kt=(n,e)=>ro(()=>{let{done:t,value:r}=n.next();return{done:t,value:t?void 0:e(r)}});var nr=class{constructor(e,t){this.clock=e,this.len=t}},en=class{constructor(){this.clients=new Map}},yo=(n,e,t)=>e.clients.forEach((r,i)=>{let o=n.doc.store.clients.get(i);for(let s=0;s<r.length;s++){let c=r[s];Co(n,o,c.clock,c.len,t)}}),Ra=(n,e)=>{let t=0,r=n.length-1;for(;t<=r;){let i=K((t+r)/2),o=n[i],s=o.clock;if(s<=e){if(e<s+o.len)return i;t=i+1}else r=i-1}return null},bo=(n,e)=>{let t=n.clients.get(e.client);return t!==void 0&&Ra(t,e.clock)!==null},xo=n=>{n.clients.forEach(e=>{e.sort((i,o)=>i.clock-o.clock);let t,r;for(t=1,r=1;t<e.length;t++){let i=e[r-1],o=e[t];i.clock+i.len>=o.clock?i.len=le(i.len,o.clock+o.len-i.clock):(r<t&&(e[r]=o),r++)}e.length=r})};var _o=(n,e,t,r)=>{ce(n.clients,e,()=>[]).push(new nr(t,r))},Da=()=>new en;var Aa=(n,e)=>{S(n.restEncoder,e.clients.size),ae(e.clients.entries()).sort((t,r)=>r[0]-t[0]).forEach(([t,r])=>{n.resetDsCurVal(),S(n.restEncoder,t);let i=r.length;S(n.restEncoder,i);for(let o=0;o<i;o++){let s=r[o];n.writeDsClock(s.clock),n.writeDsLen(s.len)}})};var ko=$n,mt=class n extends jt{constructor({guid:e=ji(),collectionid:t=null,gc:r=!0,gcFilter:i=()=>!0,meta:o=null,autoLoad:s=!1,shouldLoad:c=!0}={}){super(),this.gc=r,this.gcFilter=i,this.clientID=ko(),this.guid=e,this.collectionid=t,this.share=new Map,this.store=new dr,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=c,this.autoLoad=s,this.meta=o,this.isLoaded=!1,this.isSynced=!1,this.whenLoaded=Gn(f=>{this.on("load",()=>{this.isLoaded=!0,f(this)})});let l=()=>Gn(f=>{let a=h=>{(h===void 0||h===!0)&&(this.off("sync",a),f())};this.on("sync",a)});this.on("sync",f=>{f===!1&&this.isSynced&&(this.whenSynced=l()),this.isSynced=f===void 0||f===!0,this.isLoaded||this.emit("load",[])}),this.whenSynced=l()}load(){let e=this._item;e!==null&&!this.shouldLoad&&E(e.parent.doc,t=>{t.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(ae(this.subdocs).map(e=>e.guid))}transact(e,t=null){return E(this,e,t)}get(e,t=D){let r=ce(this.share,e,()=>{let o=new t;return o._integrate(this,null),o}),i=r.constructor;if(t!==D&&i!==t)if(i===D){let o=new t;o._map=r._map,r._map.forEach(s=>{for(;s!==null;s=s.left)s.parent=o}),o._start=r._start;for(let s=o._start;s!==null;s=s.right)s.parent=o;return o._length=r._length,this.share.set(e,o),o._integrate(this,null),o}else throw new Error(`Type with the name ${e} has already been defined with a different constructor`);return r}getArray(e=""){return this.get(e,gr)}getText(e=""){return this.get(e,yr)}getMap(e=""){return this.get(e,bt)}getXmlFragment(e=""){return this.get(e,_t)}toJSON(){let e={};return this.share.forEach((t,r)=>{e[r]=t.toJSON()}),e}destroy(){ae(this.subdocs).forEach(t=>t.destroy());let e=this._item;if(e!==null){this._item=null;let t=e.content;t.doc=new n({guid:this.guid,...t.opts,shouldLoad:!1}),t.doc._item=e,E(e.parent.doc,r=>{let i=t.doc;e.deleted||r.subdocsAdded.add(i),r.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}on(e,t){super.on(e,t)}off(e,t){super.off(e,t)}};var rr=class{constructor(){this.restEncoder=qt()}toUint8Array(){return Y(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){S(this.restEncoder,e)}writeDsLen(e){S(this.restEncoder,e)}},ir=class extends rr{writeLeftID(e){S(this.restEncoder,e.client),S(this.restEncoder,e.clock)}writeRightID(e){S(this.restEncoder,e.client),S(this.restEncoder,e.clock)}writeClient(e){S(this.restEncoder,e)}writeInfo(e){Ht(this.restEncoder,e)}writeString(e){_e(this.restEncoder,e)}writeParentInfo(e){S(this.restEncoder,e?1:0)}writeTypeRef(e){S(this.restEncoder,e)}writeLen(e){S(this.restEncoder,e)}writeAny(e){Be(this.restEncoder,e)}writeBuf(e){j(this.restEncoder,e)}writeJSON(e){_e(this.restEncoder,JSON.stringify(e))}writeKey(e){_e(this.restEncoder,e)}},or=class{constructor(){this.restEncoder=qt(),this.dsCurrVal=0}toUint8Array(){return Y(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){let t=e-this.dsCurrVal;this.dsCurrVal=e,S(this.restEncoder,t)}writeDsLen(e){e===0&&de(),S(this.restEncoder,e-1),this.dsCurrVal+=e}},sr=class extends or{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new je,this.clientEncoder=new ke,this.leftClockEncoder=new je,this.rightClockEncoder=new je,this.infoEncoder=new ct(Ht),this.stringEncoder=new zt,this.parentInfoEncoder=new ct(Ht),this.typeRefEncoder=new ke,this.lenEncoder=new ke}toUint8Array(){let e=qt();return S(e,0),j(e,this.keyClockEncoder.toUint8Array()),j(e,this.clientEncoder.toUint8Array()),j(e,this.leftClockEncoder.toUint8Array()),j(e,this.rightClockEncoder.toUint8Array()),j(e,Y(this.infoEncoder)),j(e,this.stringEncoder.toUint8Array()),j(e,Y(this.parentInfoEncoder)),j(e,this.typeRefEncoder.toUint8Array()),j(e,this.lenEncoder.toUint8Array()),Jt(e,Y(this.restEncoder)),Y(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){Be(this.restEncoder,e)}writeBuf(e){j(this.restEncoder,e)}writeJSON(e){Be(this.restEncoder,e)}writeKey(e){let t=this.keyMap.get(e);t===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(t)}},Ua=(n,e,t,r)=>{r=le(r,e[0].id.clock);let i=re(e,r);S(n.restEncoder,e.length-i),n.writeClient(t),S(n.restEncoder,r);let o=e[i];o.write(n,r-o.id.clock);for(let s=i+1;s<e.length;s++)e[s].write(n,0)},Ma=(n,e,t)=>{let r=new Map;t.forEach((i,o)=>{$(e,o)>i&&r.set(o,i)}),kr(e).forEach((i,o)=>{t.has(o)||r.set(o,0)}),S(n.restEncoder,r.size),ae(r.entries()).sort((i,o)=>o[0]-i[0]).forEach(([i,o])=>{Ua(n,e.clients.get(i),i,o)})};var La=(n,e)=>Ma(n,e.doc.store,e.beforeState);var cr=class{constructor(){this.l=[]}},co=()=>new cr,ao=(n,e)=>n.l.push(e),lo=(n,e)=>{let t=n.l,r=t.length;n.l=t.filter(i=>e!==i),r===n.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},vo=(n,e,t)=>at(n.l,[e,t]),$e=class{constructor(e,t){this.client=e,this.clock=t}},Yt=(n,e)=>n===e||n!==null&&e!==null&&n.client===e.client&&n.clock===e.clock,T=(n,e)=>new $e(n,e);var Oa=n=>{for(let[e,t]of n.doc.share.entries())if(t===n)return e;throw de()};var ar=class{constructor(e,t){this.ds=e,this.sv=t}};var Pa=(n,e)=>new ar(n,e),Ad=Pa(Da(),new Map);var pt=(n,e)=>e===void 0?!n.deleted:e.sv.has(n.id.client)&&(e.sv.get(n.id.client)||0)>n.id.clock&&!bo(e.ds,n.id),lr=(n,e)=>{let t=ce(n.meta,lr,ne),r=n.doc.store;t.has(e)||(e.sv.forEach((i,o)=>{i<$(r,o)&&fe(n,T(o,i))}),yo(n,e.ds,i=>{}),t.add(e))};var dr=class{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}},kr=n=>{let e=new Map;return n.clients.forEach((t,r)=>{let i=t[t.length-1];e.set(r,i.id.clock+i.length)}),e},$=(n,e)=>{let t=n.clients.get(e);if(t===void 0)return 0;let r=t[t.length-1];return r.id.clock+r.length},So=(n,e)=>{let t=n.clients.get(e.id.client);if(t===void 0)t=[],n.clients.set(e.id.client,t);else{let r=t[t.length-1];if(r.id.clock+r.length!==e.id.clock)throw de()}t.push(e)},re=(n,e)=>{let t=0,r=n.length-1,i=n[r],o=i.id.clock;if(o===e)return r;let s=K(e/(o+i.length-1)*r);for(;t<=r;){if(i=n[s],o=i.id.clock,o<=e){if(e<o+i.length)return s;t=s+1}else r=s-1;s=K((t+r)/2)}throw de()},Va=(n,e)=>{let t=n.clients.get(e.client);return t[re(t,e.clock)]},er=Va,ur=(n,e,t)=>{let r=re(e,t),i=e[r];return i.id.clock<t&&i instanceof F?(e.splice(r+1,0,$o(n,i,t-i.id.clock)),r+1):r},fe=(n,e)=>{let t=n.doc.store.clients.get(e.client);return t[ur(n,t,e.clock)]},uo=(n,e,t)=>{let r=e.clients.get(t.client),i=re(r,t.clock),o=r[i];return t.clock!==o.id.clock+o.length-1&&o.constructor!==ee&&r.splice(i+1,0,$o(n,o,t.clock-o.id.clock+1)),o},Fa=(n,e,t)=>{let r=n.clients.get(e.id.client);r[re(r,e.id.clock)]=t},Co=(n,e,t,r,i)=>{if(r===0)return;let o=t+r,s=ur(n,e,t),c;do c=e[s++],o<c.id.clock+c.length&&ur(n,e,o),i(c);while(s<e.length&&e[s].id.clock<o)},fr=class{constructor(e,t,r){this.doc=e,this.deleteSet=new en,this.beforeState=kr(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=t,this.meta=new Map,this.local=r,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}},fo=(n,e)=>e.deleteSet.clients.size===0&&!Ai(e.afterState,(t,r)=>e.beforeState.get(r)!==t)?!1:(xo(e.deleteSet),La(n,e),Aa(n,e.deleteSet),!0),ho=(n,e,t)=>{let r=e._item;(r===null||r.id.clock<(n.beforeState.get(r.id.client)||0)&&!r.deleted)&&ce(n.changed,e,ne).add(t)},Qt=(n,e)=>{let t=n[e],r=n[e-1],i=e;for(;i>0;t=r,r=n[--i-1]){if(r.deleted===t.deleted&&r.constructor===t.constructor&&r.mergeWith(t)){t instanceof F&&t.parentSub!==null&&t.parent._map.get(t.parentSub)===t&&t.parent._map.set(t.parentSub,r);continue}break}let o=e-i;return o&&n.splice(e+1-o,o),o},Ba=(n,e,t)=>{for(let[r,i]of n.clients.entries()){let o=e.clients.get(r);for(let s=i.length-1;s>=0;s--){let c=i[s],l=c.clock+c.len;for(let f=re(o,c.clock),a=o[f];f<o.length&&a.id.clock<l;a=o[++f]){let h=o[f];if(c.clock+c.len<=h.id.clock)break;h instanceof F&&h.deleted&&!h.keep&&t(h)&&h.gc(e,!1)}}}},ja=(n,e)=>{n.clients.forEach((t,r)=>{let i=e.clients.get(r);for(let o=t.length-1;o>=0;o--){let s=t[o],c=$t(i.length-1,1+re(i,s.clock+s.len-1));for(let l=c,f=i[l];l>0&&f.id.clock>=s.clock;f=i[l])l-=1+Qt(i,l)}})};var Io=(n,e)=>{if(e<n.length){let t=n[e],r=t.doc,i=r.store,o=t.deleteSet,s=t._mergeStructs;try{xo(o),t.afterState=kr(t.doc.store),r.emit("beforeObserverCalls",[t,r]);let c=[];t.changed.forEach((l,f)=>c.push(()=>{(f._item===null||!f._item.deleted)&&f._callObserver(t,l)})),c.push(()=>{t.changedParentTypes.forEach((l,f)=>{f._dEH.l.length>0&&(f._item===null||!f._item.deleted)&&(l=l.filter(a=>a.target._item===null||!a.target._item.deleted),l.forEach(a=>{a.currentTarget=f,a._path=null}),l.sort((a,h)=>a.path.length-h.path.length),vo(f._dEH,l,t))})}),c.push(()=>r.emit("afterTransaction",[t,r])),at(c,[]),t._needFormattingCleanup&&Ka(t)}finally{r.gc&&Ba(o,i,r.gcFilter),ja(o,i),t.afterState.forEach((a,h)=>{let d=t.beforeState.get(h)||0;if(d!==a){let u=i.clients.get(h),p=le(re(u,d),1);for(let g=u.length-1;g>=p;)g-=1+Qt(u,g)}});for(let a=s.length-1;a>=0;a--){let{client:h,clock:d}=s[a].id,u=i.clients.get(h),p=re(u,d);p+1<u.length&&Qt(u,p+1)>1||p>0&&Qt(u,p)}if(!t.local&&t.afterState.get(r.clientID)!==t.beforeState.get(r.clientID)&&(no(ht,dt,"[yjs] ",ut,ft,"Changed the client-id because another client seems to be using it."),r.clientID=ko()),r.emit("afterTransactionCleanup",[t,r]),r._observers.has("update")){let a=new ir;fo(a,t)&&r.emit("update",[a.toUint8Array(),t.origin,r,t])}if(r._observers.has("updateV2")){let a=new sr;fo(a,t)&&r.emit("updateV2",[a.toUint8Array(),t.origin,r,t])}let{subdocsAdded:c,subdocsLoaded:l,subdocsRemoved:f}=t;(c.size>0||f.size>0||l.size>0)&&(c.forEach(a=>{a.clientID=r.clientID,a.collectionid==null&&(a.collectionid=r.collectionid),r.subdocs.add(a)}),f.forEach(a=>r.subdocs.delete(a)),r.emit("subdocs",[{loaded:l,added:c,removed:f},r,t]),f.forEach(a=>a.destroy())),n.length<=e+1?(r._transactionCleanups=[],r.emit("afterAllTransactions",[r,n])):Io(n,e+1)}}},E=(n,e,t=null,r=!0)=>{let i=n._transactionCleanups,o=!1,s=null;n._transaction===null&&(o=!0,n._transaction=new fr(n,t,r),i.push(n._transaction),i.length===1&&n.emit("beforeAllTransactions",[n]),n.emit("beforeTransaction",[n._transaction,n]));try{s=e(n._transaction)}finally{if(o){let c=n._transaction===i[0];n._transaction=null,c&&Io(i,0)}}return s};var po="You must not compute changes after the event-handler fired.",Ge=class{constructor(e,t){this.target=e,this.currentTarget=e,this.transaction=t,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=$a(this.currentTarget,this.target))}deletes(e){return bo(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw ve(po);let e=new Map,t=this.target;this.transaction.changed.get(t).forEach(i=>{if(i!==null){let o=t._map.get(i),s,c;if(this.adds(o)){let l=o.left;for(;l!==null&&this.adds(l);)l=l.left;if(this.deletes(o))if(l!==null&&this.deletes(l))s="delete",c=Bt(l.content.getContent());else return;else l!==null&&this.deletes(l)?(s="update",c=Bt(l.content.getContent())):(s="add",c=void 0)}else if(this.deletes(o))s="delete",c=Bt(o.content.getContent());else return;e.set(i,{action:s,oldValue:c})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){if(this.transaction.doc._transactionCleanups.length===0)throw ve(po);let t=this.target,r=ne(),i=ne(),o=[];if(e={added:r,deleted:i,delta:o,keys:this.keys},this.transaction.changed.get(t).has(null)){let c=null,l=()=>{c&&o.push(c)};for(let f=t._start;f!==null;f=f.right)f.deleted?this.deletes(f)&&!this.adds(f)&&((c===null||c.delete===void 0)&&(l(),c={delete:0}),c.delete+=f.length,i.add(f)):this.adds(f)?((c===null||c.insert===void 0)&&(l(),c={insert:[]}),c.insert=c.insert.concat(f.content.getContent()),r.add(f)):((c===null||c.retain===void 0)&&(l(),c={retain:0}),c.retain+=f.length);c!==null&&c.retain===void 0&&l()}this._changes=e}return e}},$a=(n,e)=>{let t=[];for(;e._item!==null&&e!==n;){if(e._item.parentSub!==null)t.unshift(e._item.parentSub);else{let r=0,i=e._item.parent._start;for(;i!==e._item&&i!==null;)i.deleted||r++,i=i.right;t.unshift(r)}e=e._item.parent}return t},Eo=80,vr=0,hr=class{constructor(e,t){e.marker=!0,this.p=e,this.index=t,this.timestamp=vr++}},Ga=n=>{n.timestamp=vr++},No=(n,e,t)=>{n.p.marker=!1,n.p=e,e.marker=!0,n.index=t,n.timestamp=vr++},za=(n,e,t)=>{if(n.length>=Eo){let r=n.reduce((i,o)=>i.timestamp<o.timestamp?i:o);return No(r,e,t),r}else{let r=new hr(e,t);return n.push(r),r}},cn=(n,e)=>{if(n._start===null||e===0||n._searchMarker===null)return null;let t=n._searchMarker.length===0?null:n._searchMarker.reduce((o,s)=>Ve(e-o.index)<Ve(e-s.index)?o:s),r=n._start,i=0;for(t!==null&&(r=t.p,i=t.index,Ga(t));r.right!==null&&i<e;){if(!r.deleted&&r.countable){if(e<i+r.length)break;i+=r.length}r=r.right}for(;r.left!==null&&i>e;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);for(;r.left!==null&&r.left.id.client===r.id.client&&r.left.id.clock+r.left.length===r.id.clock;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);return t!==null&&Ve(t.index-i)<r.parent.length/Eo?(No(t,r,i),t):za(n._searchMarker,r,i)},wt=(n,e,t)=>{for(let r=n.length-1;r>=0;r--){let i=n[r];if(t>0){let o=i.p;for(o.marker=!1;o&&(o.deleted||!o.countable);)o=o.left,o&&!o.deleted&&o.countable&&(i.index-=o.length);if(o===null||o.marker===!0){n.splice(r,1);continue}i.p=o,o.marker=!0}(e<i.index||t>0&&e===i.index)&&(i.index=le(e,i.index+t))}};var an=(n,e,t)=>{let r=n,i=e.changedParentTypes;for(;ce(i,n,()=>[]).push(t),n._item!==null;)n=n._item.parent;vo(r._eH,t,e)},D=class{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=co(),this._dEH=co(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,t){this.doc=e,this._item=t}_copy(){throw q()}clone(){throw q()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,t){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){ao(this._eH,e)}observeDeep(e){ao(this._dEH,e)}unobserve(e){lo(this._eH,e)}unobserveDeep(e){lo(this._dEH,e)}toJSON(){}},To=(n,e,t)=>{e<0&&(e=n._length+e),t<0&&(t=n._length+t);let r=t-e,i=[],o=n._start;for(;o!==null&&r>0;){if(o.countable&&!o.deleted){let s=o.content.getContent();if(s.length<=e)e-=s.length;else{for(let c=e;c<s.length&&r>0;c++)i.push(s[c]),r--;e=0}}o=o.right}return i},Ro=n=>{let e=[],t=n._start;for(;t!==null;){if(t.countable&&!t.deleted){let r=t.content.getContent();for(let i=0;i<r.length;i++)e.push(r[i])}t=t.right}return e};var yt=(n,e)=>{let t=0,r=n._start;for(;r!==null;){if(r.countable&&!r.deleted){let i=r.content.getContent();for(let o=0;o<i.length;o++)e(i[o],t++,n)}r=r.right}},Do=(n,e)=>{let t=[];return yt(n,(r,i)=>{t.push(e(r,i,n))}),t},qa=n=>{let e=n._start,t=null,r=0;return{[Symbol.iterator](){return this},next:()=>{if(t===null){for(;e!==null&&e.deleted;)e=e.right;if(e===null)return{done:!0,value:void 0};t=e.content.getContent(),r=0,e=e.right}let i=t[r++];return t.length<=r&&(t=null),{done:!1,value:i}}}},Ao=(n,e)=>{let t=cn(n,e),r=n._start;for(t!==null&&(r=t.p,e-=t.index);r!==null;r=r.right)if(!r.deleted&&r.countable){if(e<r.length)return r.content.getContent()[e];e-=r.length}},tn=(n,e,t,r)=>{let i=t,o=n.doc,s=o.clientID,c=o.store,l=t===null?e._start:t.right,f=[],a=()=>{f.length>0&&(i=new F(T(s,$(c,s)),i,i&&i.lastId,l,l&&l.id,e,null,new kt(f)),i.integrate(n,0),f=[])};r.forEach(h=>{if(h===null)f.push(h);else switch(h.constructor){case Number:case Object:case Boolean:case Array:case String:f.push(h);break;default:switch(a(),h.constructor){case Uint8Array:case ArrayBuffer:i=new F(T(s,$(c,s)),i,i&&i.lastId,l,l&&l.id,e,null,new on(new Uint8Array(h))),i.integrate(n,0);break;case mt:i=new F(T(s,$(c,s)),i,i&&i.lastId,l,l&&l.id,e,null,new sn(h)),i.integrate(n,0);break;default:if(h instanceof D)i=new F(T(s,$(c,s)),i,i&&i.lastId,l,l&&l.id,e,null,new pe(h)),i.integrate(n,0);else throw new Error("Unexpected content type in insert operation")}}}),a()},Uo=()=>ve("Length exceeded!"),Mo=(n,e,t,r)=>{if(t>e._length)throw Uo();if(t===0)return e._searchMarker&&wt(e._searchMarker,t,r.length),tn(n,e,null,r);let i=t,o=cn(e,t),s=e._start;for(o!==null&&(s=o.p,t-=o.index,t===0&&(s=s.prev,t+=s&&s.countable&&!s.deleted?s.length:0));s!==null;s=s.right)if(!s.deleted&&s.countable){if(t<=s.length){t<s.length&&fe(n,T(s.id.client,s.id.clock+t));break}t-=s.length}return e._searchMarker&&wt(e._searchMarker,i,r.length),tn(n,e,s,r)},Ha=(n,e,t)=>{let i=(e._searchMarker||[]).reduce((o,s)=>s.index>o.index?s:o,{index:0,p:e._start}).p;if(i)for(;i.right;)i=i.right;return tn(n,e,i,t)},Lo=(n,e,t,r)=>{if(r===0)return;let i=t,o=r,s=cn(e,t),c=e._start;for(s!==null&&(c=s.p,t-=s.index);c!==null&&t>0;c=c.right)!c.deleted&&c.countable&&(t<c.length&&fe(n,T(c.id.client,c.id.clock+t)),t-=c.length);for(;r>0&&c!==null;)c.deleted||(r<c.length&&fe(n,T(c.id.client,c.id.clock+r)),c.delete(n),r-=c.length),c=c.right;if(r>0)throw Uo();e._searchMarker&&wt(e._searchMarker,i,-o+r)},nn=(n,e,t)=>{let r=e._map.get(t);r!==void 0&&r.delete(n)},Sr=(n,e,t,r)=>{let i=e._map.get(t)||null,o=n.doc,s=o.clientID,c;if(r==null)c=new kt([r]);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:c=new kt([r]);break;case Uint8Array:c=new on(r);break;case mt:c=new sn(r);break;default:if(r instanceof D)c=new pe(r);else throw new Error("Unexpected content type")}new F(T(s,$(o.store,s)),i,i&&i.lastId,null,null,e,t,c).integrate(n,0)},Cr=(n,e)=>{let t=n._map.get(e);return t!==void 0&&!t.deleted?t.content.getContent()[t.length-1]:void 0},Oo=n=>{let e={};return n._map.forEach((t,r)=>{t.deleted||(e[r]=t.content.getContent()[t.length-1])}),e},Po=(n,e)=>{let t=n._map.get(e);return t!==void 0&&!t.deleted};var Xt=n=>io(n.entries(),e=>!e[1].deleted),pr=class extends Ge{constructor(e,t){super(e,t),this._transaction=t}},gr=class n extends D{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){let t=new n;return t.push(e),t}_integrate(e,t){super._integrate(e,t),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new n}clone(){let e=new n;return e.insert(0,this.toArray().map(t=>t instanceof D?t.clone():t)),e}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}_callObserver(e,t){super._callObserver(e,t),an(this,e,new pr(this,e))}insert(e,t){this.doc!==null?E(this.doc,r=>{Mo(r,this,e,t)}):this._prelimContent.splice(e,0,...t)}push(e){this.doc!==null?E(this.doc,t=>{Ha(t,this,e)}):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e,t=1){this.doc!==null?E(this.doc,r=>{Lo(r,this,e,t)}):this._prelimContent.splice(e,t)}get(e){return Ao(this,e)}toArray(){return Ro(this)}slice(e=0,t=this.length){return To(this,e,t)}toJSON(){return this.map(e=>e instanceof D?e.toJSON():e)}map(e){return Do(this,e)}forEach(e){yt(this,e)}[Symbol.iterator](){return qa(this)}_write(e){e.writeTypeRef(Za)}};var mr=class extends Ge{constructor(e,t,r){super(e,t),this.keysChanged=r}},bt=class n extends D{constructor(e){super(),this._prelimContent=null,e===void 0?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,t){super._integrate(e,t),this._prelimContent.forEach((r,i)=>{this.set(i,r)}),this._prelimContent=null}_copy(){return new n}clone(){let e=new n;return this.forEach((t,r)=>{e.set(r,t instanceof D?t.clone():t)}),e}_callObserver(e,t){an(this,e,new mr(this,e,t))}toJSON(){let e={};return this._map.forEach((t,r)=>{if(!t.deleted){let i=t.content.getContent()[t.length-1];e[r]=i instanceof D?i.toJSON():i}}),e}get size(){return[...Xt(this._map)].length}keys(){return Kt(Xt(this._map),e=>e[0])}values(){return Kt(Xt(this._map),e=>e[1].content.getContent()[e[1].length-1])}entries(){return Kt(Xt(this._map),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){this._map.forEach((t,r)=>{t.deleted||e(t.content.getContent()[t.length-1],r,this)})}[Symbol.iterator](){return this.entries()}delete(e){this.doc!==null?E(this.doc,t=>{nn(t,this,e)}):this._prelimContent.delete(e)}set(e,t){return this.doc!==null?E(this.doc,r=>{Sr(r,this,e,t)}):this._prelimContent.set(e,t),t}get(e){return Cr(this,e)}has(e){return Po(this,e)}clear(){this.doc!==null?E(this.doc,e=>{this.forEach(function(t,r,i){nn(e,i,r)})}):this._prelimContent.clear()}_write(e){e.writeTypeRef(Qa)}};var ue=(n,e)=>n===e||typeof n=="object"&&typeof e=="object"&&n&&e&&Ki(n,e),xt=class{constructor(e,t,r,i){this.left=e,this.right=t,this.index=r,this.currentAttributes=i}forward(){switch(this.right===null&&de(),this.right.content.constructor){case M:this.right.deleted||qe(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}},go=(n,e,t)=>{for(;e.right!==null&&t>0;){switch(e.right.content.constructor){case M:e.right.deleted||qe(e.currentAttributes,e.right.content);break;default:e.right.deleted||(t<e.right.length&&fe(n,T(e.right.id.client,e.right.id.clock+t)),e.index+=e.right.length,t-=e.right.length);break}e.left=e.right,e.right=e.right.right}return e},Zt=(n,e,t)=>{let r=new Map,i=cn(e,t);if(i){let o=new xt(i.p.left,i.p,i.index,r);return go(n,o,t-i.index)}else{let o=new xt(null,e._start,0,r);return go(n,o,t)}},Vo=(n,e,t,r)=>{for(;t.right!==null&&(t.right.deleted===!0||t.right.content.constructor===M&&ue(r.get(t.right.content.key),t.right.content.value));)t.right.deleted||r.delete(t.right.content.key),t.forward();let i=n.doc,o=i.clientID;r.forEach((s,c)=>{let l=t.left,f=t.right,a=new F(T(o,$(i.store,o)),l,l&&l.lastId,f,f&&f.id,e,null,new M(c,s));a.integrate(n,0),t.right=a,t.forward()})},qe=(n,e)=>{let{key:t,value:r}=e;r===null?n.delete(t):n.set(t,r)},Fo=(n,e)=>{for(;n.right!==null;){if(!(n.right.deleted||n.right.content.constructor===M&&ue(e[n.right.content.key]||null,n.right.content.value)))break;n.forward()}},Bo=(n,e,t,r)=>{let i=n.doc,o=i.clientID,s=new Map;for(let c in r){let l=r[c],f=t.currentAttributes.get(c)||null;if(!ue(f,l)){s.set(c,f);let{left:a,right:h}=t;t.right=new F(T(o,$(i.store,o)),a,a&&a.lastId,h,h&&h.id,e,null,new M(c,l)),t.right.integrate(n,0),t.forward()}}return s},tr=(n,e,t,r,i)=>{t.currentAttributes.forEach((d,u)=>{i[u]===void 0&&(i[u]=null)});let o=n.doc,s=o.clientID;Fo(t,i);let c=Bo(n,e,t,i),l=r.constructor===String?new he(r):r instanceof D?new pe(r):new ze(r),{left:f,right:a,index:h}=t;e._searchMarker&&wt(e._searchMarker,t.index,l.getLength()),a=new F(T(s,$(o.store,s)),f,f&&f.lastId,a,a&&a.id,e,null,l),a.integrate(n,0),t.right=a,t.index=h,t.forward(),Vo(n,e,t,c)},mo=(n,e,t,r,i)=>{let o=n.doc,s=o.clientID;Fo(t,i);let c=Bo(n,e,t,i);e:for(;t.right!==null&&(r>0||c.size>0&&(t.right.deleted||t.right.content.constructor===M));){if(!t.right.deleted)switch(t.right.content.constructor){case M:{let{key:l,value:f}=t.right.content,a=i[l];if(a!==void 0){if(ue(a,f))c.delete(l);else{if(r===0)break e;c.set(l,f)}t.right.delete(n)}else t.currentAttributes.set(l,f);break}default:r<t.right.length&&fe(n,T(t.right.id.client,t.right.id.clock+r)),r-=t.right.length;break}t.forward()}if(r>0){let l="";for(;r>0;r--)l+=`
`;t.right=new F(T(s,$(o.store,s)),t.left,t.left&&t.left.lastId,t.right,t.right&&t.right.id,e,null,new he(l)),t.right.integrate(n,0),t.forward()}Vo(n,e,t,c)},jo=(n,e,t,r,i)=>{let o=e,s=B();for(;o&&(!o.countable||o.deleted);){if(!o.deleted&&o.content.constructor===M){let f=o.content;s.set(f.key,f)}o=o.right}let c=0,l=!1;for(;e!==o;){if(t===e&&(l=!0),!e.deleted){let f=e.content;switch(f.constructor){case M:{let{key:a,value:h}=f,d=r.get(a)||null;(s.get(a)!==f||d===h)&&(e.delete(n),c++,!l&&(i.get(a)||null)===h&&d!==h&&(d===null?i.delete(a):i.set(a,d))),!l&&!e.deleted&&qe(i,f);break}}}e=e.right}return c},Wa=(n,e)=>{for(;e&&e.right&&(e.right.deleted||!e.right.countable);)e=e.right;let t=new Set;for(;e&&(e.deleted||!e.countable);){if(!e.deleted&&e.content.constructor===M){let r=e.content.key;t.has(r)?e.delete(n):t.add(r)}e=e.left}},Ja=n=>{let e=0;return E(n.doc,t=>{let r=n._start,i=n._start,o=B(),s=Ft(o);for(;i;){if(i.deleted===!1)switch(i.content.constructor){case M:qe(s,i.content);break;default:e+=jo(t,r,i,o,s),o=Ft(s),r=i;break}i=i.right}}),e},Ka=n=>{let e=new Set,t=n.doc;for(let[r,i]of n.afterState.entries()){let o=n.beforeState.get(r)||0;i!==o&&Co(n,t.store.clients.get(r),o,i,s=>{!s.deleted&&s.content.constructor===M&&s.constructor!==ee&&e.add(s.parent)})}E(t,r=>{yo(n,n.deleteSet,i=>{if(i instanceof ee||!i.parent._hasFormatting||e.has(i.parent))return;let o=i.parent;i.content.constructor===M?e.add(o):Wa(r,i)});for(let i of e)Ja(i)})},wo=(n,e,t)=>{let r=t,i=Ft(e.currentAttributes),o=e.right;for(;t>0&&e.right!==null;){if(e.right.deleted===!1)switch(e.right.content.constructor){case pe:case ze:case he:t<e.right.length&&fe(n,T(e.right.id.client,e.right.id.clock+t)),t-=e.right.length,e.right.delete(n);break}e.forward()}o&&jo(n,o,e.right,i,e.currentAttributes);let s=(e.left||e.right).parent;return s._searchMarker&&wt(s._searchMarker,e.index,-r+t),e},wr=class extends Ge{constructor(e,t,r){super(e,t),this.childListChanged=!1,this.keysChanged=new Set,r.forEach(i=>{i===null?this.childListChanged=!0:this.keysChanged.add(i)})}get changes(){if(this._changes===null){let e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){let e=this.target.doc,t=[];E(e,r=>{let i=new Map,o=new Map,s=this.target._start,c=null,l={},f="",a=0,h=0,d=()=>{if(c!==null){let u=null;switch(c){case"delete":h>0&&(u={delete:h}),h=0;break;case"insert":(typeof f=="object"||f.length>0)&&(u={insert:f},i.size>0&&(u.attributes={},i.forEach((p,g)=>{p!==null&&(u.attributes[g]=p)}))),f="";break;case"retain":a>0&&(u={retain:a},Ji(l)||(u.attributes=Hi({},l))),a=0;break}u&&t.push(u),c=null}};for(;s!==null;){switch(s.content.constructor){case pe:case ze:this.adds(s)?this.deletes(s)||(d(),c="insert",f=s.content.getContent()[0],d()):this.deletes(s)?(c!=="delete"&&(d(),c="delete"),h+=1):s.deleted||(c!=="retain"&&(d(),c="retain"),a+=1);break;case he:this.adds(s)?this.deletes(s)||(c!=="insert"&&(d(),c="insert"),f+=s.content.str):this.deletes(s)?(c!=="delete"&&(d(),c="delete"),h+=s.length):s.deleted||(c!=="retain"&&(d(),c="retain"),a+=s.length);break;case M:{let{key:u,value:p}=s.content;if(this.adds(s)){if(!this.deletes(s)){let g=i.get(u)||null;ue(g,p)?p!==null&&s.delete(r):(c==="retain"&&d(),ue(p,o.get(u)||null)?delete l[u]:l[u]=p)}}else if(this.deletes(s)){o.set(u,p);let g=i.get(u)||null;ue(g,p)||(c==="retain"&&d(),l[u]=g)}else if(!s.deleted){o.set(u,p);let g=l[u];g!==void 0&&(ue(g,p)?g!==null&&s.delete(r):(c==="retain"&&d(),p===null?delete l[u]:l[u]=p))}s.deleted||(c==="insert"&&d(),qe(i,s.content));break}}s=s.right}for(d();t.length>0;){let u=t[t.length-1];if(u.retain!==void 0&&u.attributes===void 0)t.pop();else break}}),this._delta=t}return this._delta}},yr=class n extends D{constructor(e){super(),this._pending=e!==void 0?[()=>this.insert(0,e)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this._length}_integrate(e,t){super._integrate(e,t);try{this._pending.forEach(r=>r())}catch(r){console.error(r)}this._pending=null}_copy(){return new n}clone(){let e=new n;return e.applyDelta(this.toDelta()),e}_callObserver(e,t){super._callObserver(e,t);let r=new wr(this,e,t);an(this,e,r),!e.local&&this._hasFormatting&&(e._needFormattingCleanup=!0)}toString(){let e="",t=this._start;for(;t!==null;)!t.deleted&&t.countable&&t.content.constructor===he&&(e+=t.content.str),t=t.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:t=!0}={}){this.doc!==null?E(this.doc,r=>{let i=new xt(null,this._start,0,new Map);for(let o=0;o<e.length;o++){let s=e[o];if(s.insert!==void 0){let c=!t&&typeof s.insert=="string"&&o===e.length-1&&i.right===null&&s.insert.slice(-1)===`
`?s.insert.slice(0,-1):s.insert;(typeof c!="string"||c.length>0)&&tr(r,this,i,c,s.attributes||{})}else s.retain!==void 0?mo(r,this,i,s.retain,s.attributes||{}):s.delete!==void 0&&wo(r,i,s.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,t,r){let i=[],o=new Map,s=this.doc,c="",l=this._start;function f(){if(c.length>0){let h={},d=!1;o.forEach((p,g)=>{d=!0,h[g]=p});let u={insert:c};d&&(u.attributes=h),i.push(u),c=""}}let a=()=>{for(;l!==null;){if(pt(l,e)||t!==void 0&&pt(l,t))switch(l.content.constructor){case he:{let h=o.get("ychange");e!==void 0&&!pt(l,e)?(h===void 0||h.user!==l.id.client||h.type!=="removed")&&(f(),o.set("ychange",r?r("removed",l.id):{type:"removed"})):t!==void 0&&!pt(l,t)?(h===void 0||h.user!==l.id.client||h.type!=="added")&&(f(),o.set("ychange",r?r("added",l.id):{type:"added"})):h!==void 0&&(f(),o.delete("ychange")),c+=l.content.str;break}case pe:case ze:{f();let h={insert:l.content.getContent()[0]};if(o.size>0){let d={};h.attributes=d,o.forEach((u,p)=>{d[p]=u})}i.push(h);break}case M:pt(l,e)&&(f(),qe(o,l.content));break}l=l.right}f()};return e||t?E(s,h=>{e&&lr(h,e),t&&lr(h,t),a()},"cleanup"):a(),i}insert(e,t,r){if(t.length<=0)return;let i=this.doc;i!==null?E(i,o=>{let s=Zt(o,this,e);r||(r={},s.currentAttributes.forEach((c,l)=>{r[l]=c})),tr(o,this,s,t,r)}):this._pending.push(()=>this.insert(e,t,r))}insertEmbed(e,t,r={}){let i=this.doc;i!==null?E(i,o=>{let s=Zt(o,this,e);tr(o,this,s,t,r)}):this._pending.push(()=>this.insertEmbed(e,t,r))}delete(e,t){if(t===0)return;let r=this.doc;r!==null?E(r,i=>{wo(i,Zt(i,this,e),t)}):this._pending.push(()=>this.delete(e,t))}format(e,t,r){if(t===0)return;let i=this.doc;i!==null?E(i,o=>{let s=Zt(o,this,e);s.right!==null&&mo(o,this,s,t,r)}):this._pending.push(()=>this.format(e,t,r))}removeAttribute(e){this.doc!==null?E(this.doc,t=>{nn(t,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,t){this.doc!==null?E(this.doc,r=>{Sr(r,this,e,t)}):this._pending.push(()=>this.setAttribute(e,t))}getAttribute(e){return Cr(this,e)}getAttributes(){return Oo(this)}_write(e){e.writeTypeRef(el)}};var gt=class{constructor(e,t=()=>!0){this._filter=t,this._root=e,this._currentNode=e._start,this._firstCall=!0}[Symbol.iterator](){return this}next(){let e=this._currentNode,t=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(t)))do if(t=e.content.type,!e.deleted&&(t.constructor===br||t.constructor===_t)&&t._start!==null)e=t._start;else for(;e!==null;)if(e.right!==null){e=e.right;break}else e.parent===this._root?e=null:e=e.parent._item;while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}},_t=class n extends D{constructor(){super(),this._prelimContent=[]}get firstChild(){let e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,t){super._integrate(e,t),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new n}clone(){let e=new n;return e.insert(0,this.toArray().map(t=>t instanceof D?t.clone():t)),e}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(e){return new gt(this,e)}querySelector(e){e=e.toUpperCase();let r=new gt(this,i=>i.nodeName&&i.nodeName.toUpperCase()===e).next();return r.done?null:r.value}querySelectorAll(e){return e=e.toUpperCase(),ae(new gt(this,t=>t.nodeName&&t.nodeName.toUpperCase()===e))}_callObserver(e,t){an(this,e,new xr(this,t,e))}toString(){return Do(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,t={},r){let i=e.createDocumentFragment();return r!==void 0&&r._createAssociation(i,this),yt(this,o=>{i.insertBefore(o.toDOM(e,t,r),null)}),i}insert(e,t){this.doc!==null?E(this.doc,r=>{Mo(r,this,e,t)}):this._prelimContent.splice(e,0,...t)}insertAfter(e,t){if(this.doc!==null)E(this.doc,r=>{let i=e&&e instanceof D?e._item:e;tn(r,this,i,t)});else{let r=this._prelimContent,i=e===null?0:r.findIndex(o=>o===e)+1;if(i===0&&e!==null)throw ve("Reference item not found");r.splice(i,0,...t)}}delete(e,t=1){this.doc!==null?E(this.doc,r=>{Lo(r,this,e,t)}):this._prelimContent.splice(e,t)}toArray(){return Ro(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return Ao(this,e)}slice(e=0,t=this.length){return To(this,e,t)}forEach(e){yt(this,e)}_write(e){e.writeTypeRef(nl)}};var br=class n extends _t{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){let e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){let e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,t){super._integrate(e,t),this._prelimAttrs.forEach((r,i)=>{this.setAttribute(i,r)}),this._prelimAttrs=null}_copy(){return new n(this.nodeName)}clone(){let e=new n(this.nodeName),t=this.getAttributes();return Wi(t,(r,i)=>{typeof r=="string"&&e.setAttribute(i,r)}),e.insert(0,this.toArray().map(r=>r instanceof D?r.clone():r)),e}toString(){let e=this.getAttributes(),t=[],r=[];for(let c in e)r.push(c);r.sort();let i=r.length;for(let c=0;c<i;c++){let l=r[c];t.push(l+'="'+e[l]+'"')}let o=this.nodeName.toLocaleLowerCase(),s=t.length>0?" "+t.join(" "):"";return`<${o}${s}>${super.toString()}</${o}>`}removeAttribute(e){this.doc!==null?E(this.doc,t=>{nn(t,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,t){this.doc!==null?E(this.doc,r=>{Sr(r,this,e,t)}):this._prelimAttrs.set(e,t)}getAttribute(e){return Cr(this,e)}hasAttribute(e){return Po(this,e)}getAttributes(){return Oo(this)}toDOM(e=document,t={},r){let i=e.createElement(this.nodeName),o=this.getAttributes();for(let s in o){let c=o[s];typeof c=="string"&&i.setAttribute(s,c)}return yt(this,s=>{i.appendChild(s.toDOM(e,t,r))}),r!==void 0&&r._createAssociation(i,this),i}_write(e){e.writeTypeRef(tl),e.writeKey(this.nodeName)}};var xr=class extends Ge{constructor(e,t,r){super(e,r),this.childListChanged=!1,this.attributesChanged=new Set,t.forEach(i=>{i===null?this.childListChanged=!0:this.attributesChanged.add(i)})}};var rn=class{constructor(e,t){this.id=e,this.length=t}get deleted(){throw q()}mergeWith(e){return!1}write(e,t,r){throw q()}integrate(e,t){throw q()}},Ya=0,ee=class extends rn{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,t){t>0&&(this.id.clock+=t,this.length-=t),So(e.doc.store,this)}write(e,t){e.writeInfo(Ya),e.writeLen(this.length-t)}getMissing(e,t){return null}},on=class n{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new n(this.content)}splice(e){throw q()}mergeWith(e){return!1}integrate(e,t){}delete(e){}gc(e){}write(e,t){e.writeBuf(this.content)}getRef(){return 3}};var _r=class n{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new n(this.len)}splice(e){let t=new n(this.len-e);return this.len=e,t}mergeWith(e){return this.len+=e.len,!0}integrate(e,t){_o(e.deleteSet,t.id.client,t.id.clock,this.len),t.markDeleted()}delete(e){}gc(e){}write(e,t){e.writeLen(this.len-t)}getRef(){return 1}};var Xa=(n,e)=>new mt({guid:n,...e,shouldLoad:e.shouldLoad||e.autoLoad||!1}),sn=class n{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;let t={};this.opts=t,e.gc||(t.gc=!1),e.autoLoad&&(t.autoLoad=!0),e.meta!==null&&(t.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new n(Xa(this.doc.guid,this.opts))}splice(e){throw q()}mergeWith(e){return!1}integrate(e,t){this.doc._item=t,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,t){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}};var ze=class n{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new n(this.embed)}splice(e){throw q()}mergeWith(e){return!1}integrate(e,t){}delete(e){}gc(e){}write(e,t){e.writeJSON(this.embed)}getRef(){return 5}};var M=class n{constructor(e,t){this.key=e,this.value=t}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new n(this.key,this.value)}splice(e){throw q()}mergeWith(e){return!1}integrate(e,t){let r=t.parent;r._searchMarker=null,r._hasFormatting=!0}delete(e){}gc(e){}write(e,t){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}};var kt=class n{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new n(this.arr)}splice(e){let t=new n(this.arr.slice(e));return this.arr=this.arr.slice(0,e),t}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,t){}delete(e){}gc(e){}write(e,t){let r=this.arr.length;e.writeLen(r-t);for(let i=t;i<r;i++){let o=this.arr[i];e.writeAny(o)}}getRef(){return 8}};var he=class n{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new n(this.str)}splice(e){let t=new n(this.str.slice(e));this.str=this.str.slice(0,e);let r=this.str.charCodeAt(e-1);return r>=55296&&r<=56319&&(this.str=this.str.slice(0,e-1)+"\uFFFD",t.str="\uFFFD"+t.str.slice(1)),t}mergeWith(e){return this.str+=e.str,!0}integrate(e,t){}delete(e){}gc(e){}write(e,t){e.writeString(t===0?this.str:this.str.slice(t))}getRef(){return 4}};var Za=0,Qa=1,el=2,tl=3,nl=4;var pe=class n{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new n(this.type._copy())}splice(e){throw q()}mergeWith(e){return!1}integrate(e,t){this.type._integrate(e.doc,t)}delete(e){let t=this.type._start;for(;t!==null;)t.deleted?t.id.clock<(e.beforeState.get(t.id.client)||0)&&e._mergeStructs.push(t):t.delete(e),t=t.right;this.type._map.forEach(r=>{r.deleted?r.id.clock<(e.beforeState.get(r.id.client)||0)&&e._mergeStructs.push(r):r.delete(e)}),e.changed.delete(this.type)}gc(e){let t=this.type._start;for(;t!==null;)t.gc(e,!0),t=t.right;this.type._start=null,this.type._map.forEach(r=>{for(;r!==null;)r.gc(e,!0),r=r.left}),this.type._map=new Map}write(e,t){this.type._write(e)}getRef(){return 7}};var $o=(n,e,t)=>{let{client:r,clock:i}=e.id,o=new F(T(r,i+t),e,T(r,i+t-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(t));return e.deleted&&o.markDeleted(),e.keep&&(o.keep=!0),e.redone!==null&&(o.redone=T(e.redone.client,e.redone.clock+t)),e.right=o,o.right!==null&&(o.right.left=o),n._mergeStructs.push(o),o.parentSub!==null&&o.right===null&&o.parent._map.set(o.parentSub,o),e.length=t,o};var F=class n extends rn{constructor(e,t,r,i,o,s,c,l){super(e,l.getLength()),this.origin=r,this.left=t,this.right=i,this.rightOrigin=o,this.parent=s,this.parentSub=c,this.redone=null,this.content=l,this.info=this.content.isCountable()?2:0}set marker(e){(this.info&8)>0!==e&&(this.info^=8)}get marker(){return(this.info&8)>0}get keep(){return(this.info&1)>0}set keep(e){this.keep!==e&&(this.info^=1)}get countable(){return(this.info&2)>0}get deleted(){return(this.info&4)>0}set deleted(e){this.deleted!==e&&(this.info^=4)}markDeleted(){this.info|=4}getMissing(e,t){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=$(t,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=$(t,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===$e&&this.id.client!==this.parent.client&&this.parent.clock>=$(t,this.parent.client))return this.parent.client;if(this.origin&&(this.left=uo(e,t,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=fe(e,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===ee||this.right&&this.right.constructor===ee)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===n&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===n&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===$e){let r=er(t,this.parent);r.constructor===ee?this.parent=null:this.parent=r.content.type}return null}integrate(e,t){if(t>0&&(this.id.clock+=t,this.left=uo(e,e.doc.store,T(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(t),this.length-=t),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let r=this.left,i;if(r!==null)i=r.right;else if(this.parentSub!==null)for(i=this.parent._map.get(this.parentSub)||null;i!==null&&i.left!==null;)i=i.left;else i=this.parent._start;let o=new Set,s=new Set;for(;i!==null&&i!==this.right;){if(s.add(i),o.add(i),Yt(this.origin,i.origin)){if(i.id.client<this.id.client)r=i,o.clear();else if(Yt(this.rightOrigin,i.rightOrigin))break}else if(i.origin!==null&&s.has(er(e.doc.store,i.origin)))o.has(er(e.doc.store,i.origin))||(r=i,o.clear());else break;i=i.right}this.left=r}if(this.left!==null){let r=this.left.right;this.right=r,this.left.right=this}else{let r;if(this.parentSub!==null)for(r=this.parent._map.get(this.parentSub)||null;r!==null&&r.left!==null;)r=r.left;else r=this.parent._start,this.parent._start=this;this.right=r}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(e)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),So(e.doc.store,this),this.content.integrate(e,this),ho(e,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(e)}else new ee(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;e!==null&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;e!==null&&e.deleted;)e=e.left;return e}get lastId(){return this.length===1?this.id:T(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&Yt(e.origin,this.lastId)&&this.right===e&&Yt(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&this.redone===null&&e.redone===null&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){let t=this.parent._searchMarker;return t&&t.forEach(r=>{r.p===e&&(r.p=this,!this.deleted&&this.countable&&(r.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,this.right!==null&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){let t=this.parent;this.countable&&this.parentSub===null&&(t._length-=this.length),this.markDeleted(),_o(e.deleteSet,this.id.client,this.id.clock,this.length),ho(e,t,this.parentSub),this.content.delete(e)}}gc(e,t){if(!this.deleted)throw de();this.content.gc(e),t?Fa(e,this,new ee(this.id,this.length)):this.content=new _r(this.length)}write(e,t){let r=t>0?T(this.id.client,this.id.clock+t-1):this.origin,i=this.rightOrigin,o=this.parentSub,s=this.content.getRef()&31|(r===null?0:128)|(i===null?0:64)|(o===null?0:32);if(e.writeInfo(s),r!==null&&e.writeLeftID(r),i!==null&&e.writeRightID(i),r===null&&i===null){let c=this.parent;if(c._item!==void 0){let l=c._item;if(l===null){let f=Oa(c);e.writeParentInfo(!0),e.writeString(f)}else e.writeParentInfo(!1),e.writeLeftID(l.id)}else c.constructor===String?(e.writeParentInfo(!0),e.writeString(c)):c.constructor===$e?(e.writeParentInfo(!1),e.writeLeftID(c)):de();o!==null&&e.writeString(o)}this.content.write(e,t)}};var Go=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},zo="__ $YJS$ __";Go[zo]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");Go[zo]=!0;var Ir=k(An()),ln=(n,e,t)=>{let r=(t||0)+1;if(e?e(n)&&(n.id=(0,Ir.createId)()):n.id=(0,Ir.createId)(),n.type==="item"&&n.component&&n.component.id&&n.component.props)for(let i of Object.values(n.component.props))i.meta?.type==="content-element"&&i.content&&ln(i.content,e,r);if(n.type!=="text"&&n.childs&&Array.isArray(n.childs))for(let i of n.childs)ln(i,e,r);return n};var Er=(n,e)=>{let t=e||new Set;if(!n)return t;if(n.type==="item"&&n.component?.id&&(t.add(n.component.id),n.component.props))for(let r of Object.values(n.component.props))r.meta?.type==="content-element"&&r.content&&Er(r.content,t);if(n.type!=="text"&&n.childs)for(let r of n.childs)Er(r,t);return t},He=async(n,e)=>{let t=new Set,r=null;typeof e!="string"?r=e:await qo(n,e),Er(r,t);let i=[...t].filter(o=>!n.comps.all[o]&&!n.comps.pending[o]).map(async o=>{let s=await qo(n,o);await He(n,s.content_tree)});i.length>0&&await Promise.all(i)},qo=async(n,e)=>{if(n.comps.pending[e])return await n.comps.pending[e];let t=n.loader.comp(n,e);return n.comps.pending[e]=t,n.comps.all[e]=await t,n.comps.all[e]},Wo=(n,e,t,r)=>{let i=e.component,o=null,s={};if(t.type==="m"){let f=t.item;s=f.get("component")?.get("props")?.toJSON(),s||(f.get("component")?.set("props",new bt),s=f.get("component")?.get("props")?.toJSON()),o=f.toJSON()}else o=Re(t.item.content_tree),s=o.component.props||{};let c={};c=ln(o,f=>{f.originalId||(f.originalId=f.id);let a=f.id;return r[f.originalId]?a=r[f.originalId]:a=(0,Ho.createId)(),f.id=a,r[f.originalId]=a,!1});let l={};for(let[f,a]of Object.entries(s))l[f]=a,i.props[f]&&(l[f].value=i.props[f].value,l[f].valueBuilt=i.props[f].valueBuilt,l[f].content=i.props[f].content);return{...c,id:e.id,originalId:e.originalId||c.originalId,component:{...i,props:l}}};var Jo=async(n,e)=>{n.page?.content_tree&&(n.treePending=new Promise(async t=>{let r=n.treeMeta;if(n.page){let i=Object.values(n.page.content_tree?.childs||[]);n.layout.section&&n.layout.content&&!n.page?.name.startsWith("layout:")&&(i=[n.layout.section],n.layout.content.type="item",n.layout.content.type==="item"&&(n.layout.content.childs=n.page.content_tree?.childs.map(o=>({...o,type:"item"})))),await Promise.all(i.map(async(o,s)=>{await dn(n,{treeMeta:r,item:o,parent_id:"root",idx:s,isLayout:!!(n.layout.section&&n.layout.content)})})||[])}t(),n.treePending=null,e.render!==!1&&n.render()}),await n.treePending)},dn=async(n,e)=>{let t=e.treeMeta,r=e.item;if(r.hidden!=="all"){if(e.parent_comp){let i=e.parent_comp.comp?.child_ids;i&&r.originalId&&i[r.originalId]&&(r.id=i[r.originalId])}if(r){let i;r.type==="item"&&r.component?.id&&(i={id:r.component.id,child_ids:{}});let o={item:r,parent_id:n.cachedParentID[r.id]||e.parent_id,parent_comp:e.parent_comp,className:nt(r,{mode:n.mode}),comp:i,indexedScope:t[r.id]?t[r.id].indexedScope:{},isLayout:e.isLayout};if(t[o.item.id]=o,r.type==="item"&&r.component?.id){let s=r.component.id,c=n.comps.all[s];if(c||(await He(n,s),c=n.comps.all[s]),c){n.compInstance[r.id]||(n.compInstance[r.id]={});let l=n.compInstance[r.id],f=Wo(n,r,{type:"i",item:c},l);for(let[d,u]of Object.entries(f))d!=="id"&&(r[d]=u);let a=c.content_tree.component?.props,h=r.component.props;if(a&&h)for(let[d,u]of Object.entries(a)){let p=h[d];if(p&&u.meta?.type==="content-element"){let g=p.content;g&&await dn(n,{treeMeta:t,item:g,parent_id:r.id,parent_comp:e.parent_comp,idx:u.idx,isLayout:o.isLayout})}}}await Promise.all(r.childs.map(async(l,f)=>await dn(n,{treeMeta:t,item:l,parent_comp:o,parent_id:r.id,idx:f,isLayout:o.isLayout})))}else r.type!=="text"&&Array.isArray(r.childs)&&await Promise.all(r.childs.map(async(s,c)=>{let l=!1;return o.isLayout&&r.name!=="content"&&(l=!0),await dn(n,{treeMeta:t,idx:c,item:s,parent_comp:e.parent_comp,parent_id:r.id||"",isLayout:l})}))}}};var Zo=(n,e)=>{if(n.status!=="loading"&&n.status!=="not-found"){rt.params||(rt.params={});let t=rt.params.page_id;if(!t){let r=n.route.lookup(e);if(!r)n.status="not-found";else{if(r.params)for(let[i,o]of Object.entries(r.params))rt.params[i]=o;t=r.id}}if(t){window.pageid=t;let r=[];t!==n.page?.id&&(n.page=n.pages[t],n.treeMeta={},n.portal={}),(!n.page||!n.page.content_tree)&&(r.push(Qo(n,t)),r.push(il(n,t))),r.length>0?(n.status="loading",Promise.all(r).then(async()=>{n.page=n.pages[t],n.page&&(await Nr(n),n.render())})):Ko[t]?Nr(n):(Ko[t]=!0,Nr(n).then(n.render))}}},Ko={},Nr=async n=>{n.page?(await Jo(n,{render:!1,note:"render",reset:!1}),n.status="ready"):n.status="not-found"},ge=async(n,e)=>{let t=n.route.lookup(e);if(t&&(!n.pages[t.id]||n.pages[t.id]&&!n.pages[t.id].content_tree)&&!n.pagePreload[t.id]){n.pagePreload[t.id]=!0;let r=await n.loader.page(n,t.id);if(r){n.pages[r.id]=r;let i=n.pages[r.id];i&&i.content_tree&&await He(n,i.content_tree),delete n.pagePreload[t.id],await Qo(n,r.id)}}},Yo={},Qo=async(n,e)=>{try{if(!Yo[e]){Yo[e]=!0,typeof window.exports>"u"&&(window.exports={});let t=n.loader.npm(n,"page",e);t&&await Pe(t)}}catch(t){console.error(t)}},Tr={},il=async(n,e)=>{Tr[e]||(Tr[e]=n.loader.page(n,e));let t=await Tr[e];if(t){n.pages[t.id]={id:t.id,url:t.url,name:t.name,content_tree:t.content_tree,js:t.js_compiled};let r=n.pages[t.id];r&&r.content_tree&&await He(n,r.content_tree)}},un=n=>[...Xo(n,"navigate(",")"),...Xo(n,"href = ",";")],Xo=(n,e,t)=>{let r=0,i=0,o=[];for(;;){let s=n.indexOf(e,r);if(i=r,s>=0){let c=n[s+e.length];if(c==='"'||c==="'"||c==="`"){let l=n.indexOf(`${c}${t}`,s+e.length+1),f=n.substring(s+e.length+1,l);r=l+2+t.length,o.push(f)}}if(i===r)break}return o};var Ce=k(Qe());var A=k(Qe()),Rr=class extends A.Component{displayName="ReactUseErrorBoundary";componentDidCatch(...e){this.setState({}),this.props.onError(...e)}render(){return this.props.children}},ol=()=>!1,es=(0,A.createContext)({componentDidCatch:{current:void 0},error:void 0,setError:ol});function ts({children:n}){let[e,t]=(0,A.useState)(),r=(0,A.useRef)(),i=(0,A.useMemo)(()=>({componentDidCatch:r,error:e,setError:t}),[e]);return A.default.createElement(es.Provider,{value:i},A.default.createElement(Rr,{error:e,onError:(o,s)=>{t(o),r.current?.(o,s)}},n))}ts.displayName="ReactUseErrorBoundaryContext";function ns(n){function e(t){return A.default.createElement(ts,null,A.default.createElement(n,{key:"WrappedComponent",...t}))}return e.displayName=`WithErrorBoundary(${n.displayName??n.name??"Component"})`,e}function rs(n){let e=(0,A.useContext)(es);e.componentDidCatch.current=n;let t=(0,A.useCallback)(()=>{e.setError(void 0)},[]);return[e.error,t]}var is={mode:"",sync:null,status:"init",focused:"",pendingRebuild:!1,localReloading:{},manager:{page:!1,site:!1,comp:!1,compActionLabel:"Pick",compCallback:n=>{},compPreviewRendered:new Set},script:{siteActive:!1,siteTypes:{},prop:null,toolbar:null,active:!1,type:"js",db:null,api:null,onClose:void 0,doEdit:null},item:{active:"",activeOriginalId:"",hover:"",sideHover:!1,selectMode:"single",selection:[],copy:{mode:"single"}},preventTreeScroll:!1,softRender:{tree:()=>{},page:()=>{},side:()=>{},addEl:()=>{},topR:()=>{},all(){this.tree(),this.page(),this.side(),this.addEl(),this.topR()}},session:{id:"",data:{user:{id:"",username:""}}},lsite:null,site:{id:"",api_url:"",api_prasi:{port:"",db:""},responsive:"all",domain:"",name:"",js:"",js_compiled:""},layout:{section:null,content:null},site_dts:"",page:null,treeFlat:[],treeFlatTemp:[],treePending:null,treeMeta:{},cachedParentID:{},compInstance:{},comp:null,comps:{pending:{},resolve:{},doc:{}},compProp:{backToInstance:!1,edit:!1,inherit:!0},compDirectEdit:!1,compLoading:{},pagePreload:{},route:Me(),mpage:null,mpageLoaded:null,ws:null,wsPing:-1,wsPingTs:0,wsPingInterval:null,wsRetry:{fast:!1,localIP:!1,disabled:!1,reconnecting:!1},ui:{loading:null,preload:null,notfound:null,error:null}};var z=k(R()),os=ns(({children:n,meta:e,id:t})=>{let r=Te({retrying:!1}),[i,o]=rs((c,l)=>{console.warn(c)}),s=e;return t&&(s=te(is,"EDITOR").treeMeta[t]),i?(0,z.jsxs)("div",{className:"bg-red-100 border border-red-300 rounded-sm text-xs flex flex-col items-center",children:[(0,z.jsxs)("div",{className:"text-[10px] font-bold text-red-900 self-stretch px-1",children:["ERROR ",s?.item.name?"["+s.item.name+"]:":""]}),(0,z.jsx)("p",{className:"border-b border-red-300 px-1 pb-1 min-w-[100px]",children:r.retrying?(0,z.jsx)(z.Fragment,{children:"Retrying..."}):(0,z.jsx)(z.Fragment,{children:i.message})}),(0,z.jsx)("div",{className:"p-1",children:(0,z.jsx)("button",{onClick:()=>{r.retrying=!0,r.render(),setTimeout(()=>{r.retrying=!1,r.render(),o()},100)},className:"bg-white border border-white hover:border-red-400 hover:bg-red-50 rounded px-2",children:"Try again"})})]}):n});var ss=k(Cs()),hn=k(R());var Dr=(n,e,t,r,i)=>{let o=n.treeMeta[e],s=o.className,c=o.item,l=c.adv,f={};try{o.memoize||(o.memoize={});let a=(0,ss.default)(i)||"default";if(o.memoize[a]||(o.memoize[a]={Local:cl(n,e,i),PassProp:sl(n,e,i)}),typeof l?.js=="string"){let C=un(l.js||"");C.length>0&&C.map(w=>ge(n,w))}n.site.api_url&&(n.script.db||(n.script.db=Ae(n.site.api_url)),n.script.api||(n.script.api=De(n.site.api_url)));let h=window,d=Ar(n,e,{_scopeIndex:i});for(let[C,w]of Object.entries(d))if(w&&typeof w=="object"){let m=w;m._jsx&&m.Comp&&(d[C]=(0,hn.jsx)(m.Comp,{parent_id:o.item.id,_scopeIndex:i}))}let u={jsx:null};f={...h.exports,...d,...o.memoize[a],db:n.script.db,api:n.script.api,children:t,props:{className:s},useEffect:Ce.useEffect,render:C=>{u.jsx=(0,hn.jsx)(os,{children:(0,hn.jsx)(Ce.Suspense,{children:C})})}};let g=new Function(...Object.keys(f),r)(...Object.values(f));return g instanceof Promise&&g.catch(C=>{console.warn(C),console.warn((`ERROR in ${c.type} [${c.name}]:
 `+(l?.js||"")).trim()),console.warn("Available var:",f,`

`)}),u.jsx}catch(a){console.warn(a),console.warn((`ERROR in ${c.type} [${c.name}]:
 `+(l?.js||"")).trim()),console.warn("Available var:",f,`

`)}},Ar=(n,e,t)=>{let r=n.treeMeta[e];r.scope||(r.scope={});let i=r,o={};for(;i;){let s=null,c=null;if(i.indexedScope&&t?._scopeIndex){let l=t._scopeIndex[i.item.id];typeof l<"u"&&i.indexedScope[l]&&(c=i.indexedScope[l])}if(c||i.scope||i.comp?.propval){s={...i.scope,...c,...i.comp?.propval};for(let[l,f]of Object.entries(s))typeof o[l]>"u"&&(o[l]=f);if(t?.each&&!t.each(i,s))break}i=n.treeMeta[i.parent_id]}return o},Ur=(n,e)=>{if(Array.isArray(n)){let t=[];for(let r of n)t.push(Ur(r,e));return t}return typeof n=="object"&&n?{...n,props:{...n.props,_scopeIndex:e}}:n},sl=(n,e,t)=>function(r){let i=n.treeMeta[e];if(typeof r.idx<"u"&&i&&i.item&&i.item.id){i.indexedScope[r.idx]={};for(let[s,c]of Object.entries(r))s!=="children"&&(i.indexedScope[r.idx][s]=c);let o={...t,[i.item.id]:r.idx};i.scope||(i.scope={});for(let[s,c]of Object.entries(r))s!=="children"&&(i.scope[s]=c);return Ur(r.children,o)}i.scope||(i.scope={});for(let[o,s]of Object.entries(r))o!=="children"&&(i.scope[o]=s);return r.children},me={},vt={},fn={},cl=(n,e,t)=>({name:i,idx:o,value:s,effect:c,children:l,hook:f,deps:a,cache:h})=>{let d=n.treeMeta[e],[u,p]=(0,Ce.useState)({}),g=null;o?(d.indexedScope||(d.indexedScope={}),d.indexedScope[o]||(d.indexedScope[o]={}),g=d.indexedScope[o]):(d.scope||(d.scope={}),g=d.scope);let C=()=>{o?p({}):d.render?d.render():n.render()},w=()=>{try{let O=Re(s);if(!g[i])g[i]={...O,render:C};else{for(let[Je,Ke]of Object.entries(O))g[i][Je]=Ke;g[i].render=C}}catch(O){console.warn(O)}},m=n.page?.id||"",N=d.item.id+(o?`_${o}`:"");if(d.isLayout&&(m="layout",fn[d.item.id]&&(g[i]=me[m][N],g[i].render=C)),(m!=="layout"||m==="layout"&&!fn[d.item.id])&&(me[m]||(me[m]={}),vt[m]||(vt[m]={}),me[m][N]?h===!1&&vt[m][N]!==location.href?(vt[m][N]=location.href,w(),me[m][N]=g[i]):(g[i]=me[m][N],g[i].render=C):(w(),me[m][N]=g[i],vt[m][N]=location.href)),typeof f=="function")try{f(g[i])}catch(O){console.warn(O)}if((0,Ce.useEffect)(()=>{if(c){if(d.isLayout){if(fn[d.item.id])return;fn[d.item.id]=!0}try{c(g[i])}catch(O){console.warn(O)}}},[...a||[],location.href]),o){let O={...t,[d.item.id]:o};return Ur(l,O)}return l};var St=k(R()),Mr={},cs=(n,e,t,r)=>{let i=n.treeMeta[e];if(i.item.type==="item"&&i.item.component){n.site.api_url&&(n.script.db||(n.script.db=Ae(n.site.api_url)),n.script.api||(n.script.api=De(n.site.api_url)));let o=i.item.component.props,s=window,c=Ar(n,e,{_scopeIndex:r}),l={...s.exports,...c,db:n.script.db,api:n.script.api},f={};for(let[a,h]of t){let d=o[a]||h,u=null;if(d.valueBuilt){let p=new Function(...Object.keys(l),`return ${d.valueBuilt}`);try{u=p(...Object.values(l))||null;let g=un(d.valueBuilt||"");g.length>0&&g.map(C=>ge(n,C))}catch(g){let C=i.item.name;console.warn(g),console.warn(`ERROR in Component [${C}], in prop [${a}]:
 `+d.value)}}if(d.meta?.type==="content-element"&&!(typeof u=="object"&&u&&u._jsx)){let p=`${i.item.id}-${a}`;Mr[p]||(Mr[p]={_jsx:!0,Comp:({parent_id:g,_scopeIndex:C})=>{if(d.content){let w=n.treeMeta[d.content.id];if(w)return w.parent_id=g,n.cachedParentID[d.content.id]=g,(0,St.jsx)(Ct,{id:d.content.id,fromProp:!0,_scopeIndex:C})}return(0,St.jsx)(St.Fragment,{})}}),u=Mr[p]}f[a]=u}return f}};var Lr=k(R()),as=({id:n,fromProp:e,_scopeIndex:t})=>(0,Lr.jsx)(We,{id:n,fromProp:e,_scopeIndex:t}),ls=({className:n,item:e,_children:t})=>(0,Lr.jsx)("div",{id:`text-${e.id}`,className:cx(n,css`
          outline: none;
          min-width: 3px !important;
          min-height: 10px !important;
        `),dangerouslySetInnerHTML:{__html:t||""}});var ie=k(R()),We=({id:n,children:e,fromProp:t,_scopeIndex:r})=>{let i=te(we,"LIVE"),o=i.treeMeta[n];return o&&o.item.name.startsWith("::")?o.isLayout?(o.className=nt(o.item,{mode:i.mode}),(0,ie.jsx)(ll,{name:o.item.name})):(i.portal[o.item.name]&&(i.portal[o.item.name].el=(0,ie.jsx)(ds,{p:i,id:n,children:e,fromProp:t,meta:o,_scopeIndex:r})),null):(0,ie.jsx)(ds,{p:i,id:n,children:e,fromProp:t,meta:o,_scopeIndex:r})},ds=({id:n,children:e,meta:t,p:r,_scopeIndex:i})=>{let[o,s]=(0,pn.useState)({});if((0,pn.useEffect)(()=>{t&&(t.mounted=!0,t.pendingRender&&(t.pendingRender=!1,s({})))}),!t)return null;t.render=()=>{t&&(t.mounted?s({}):t.pendingRender=!0)};let c=t.item;if(t.comp?.id){let u=t.comp,p={},g={};p=Re(r.comps.all[t.comp.id]?.content_tree.component?.props||{}),g=Object.entries(p),u.propval=cs(r,n,g,i)}let l=null;e&&(c.type==="text"?l=e([]):l=e(c.childs.filter(u=>u.hidden==="all"?!1:r.treeMeta[u.id]?!0:(r.treePending&&r.treePending.then(t.render),!1))||[])),t.className=nt(c,{mode:r.mode});let f=t.className,a=c.adv;if(!(a?.jsBuilt&&a?.js)&&t.comp)return Dr(r,n,l,'render(React.createElement("div",{...props},children));',i);if(a){if(a.html){let u=al(f,a);if(u)return u}else if(a.jsBuilt&&a.js)return Dr(r,n,l,a.jsBuilt,i)}let h=P(c,"linktag",r.mode,{}),d=c.type==="item"&&c.component?.id;if(h&&h.link&&!d){let u=h.link||"";if(u.startsWith("/")&&(ge(r,u),(location.pathname.startsWith("/preview/")||location.pathname.startsWith("/site/"))&&["localhost","127.0.0.1","prasi.app"].includes(location.hostname))){let g=location.pathname.split("/");g.length>=3&&(u=`/${g[1]}/${g[2]}${u}`)}let p={className:f,href:u,onClick:g=>{g.preventDefault(),u.startsWith("/")?navigate(u):location.href=u}};return c.type==="text"?(0,ie.jsx)("a",{...p,dangerouslySetInnerHTML:{__html:c.html||c.text}}):(0,ie.jsx)("a",{...p,children:l})}return c.type==="text"?(0,ie.jsx)(ls,{className:f,item:c,p:r,_children:c.html||c.text},c.id):(0,ie.jsx)("div",{className:f,children:l})},al=(n,e)=>e.html?(0,ie.jsx)("div",{className:n,dangerouslySetInnerHTML:{__html:e.html}}):null,ll=({name:n})=>{let e=te(we,"LIVE"),t=Te({});return e.portal[n]?e.portal[n].render=t.render:e.portal[n]={render:t.render,el:null},e.portal[n].el};var gn=k(R()),Ct=({id:n,fromProp:e,_scopeIndex:t})=>(0,gn.jsx)(We,{id:n,_scopeIndex:t,children:r=>r.map(i=>i.type==="item"?(0,gn.jsx)(Ct,{id:i.id,fromProp:e,_scopeIndex:t},i.id):(0,gn.jsx)(as,{id:i.id,fromProp:e,_scopeIndex:t},i.id))});var Or=k(R()),us=({id:n})=>(0,Or.jsx)(We,{id:n,children:e=>e.map(t=>(0,Or.jsx)(Ct,{id:t.id},t.id))});var hs=k(Qe());var V=k(R()),fs=window,mn=({children:n,className:e,show:t,backdrop:r,note:i,alt:o})=>{let s=Te({icon:(0,V.jsx)("div",{className:"px-4 py-1",children:"Loading..."}),value:.111,ival:null},()=>{});return(0,hs.useEffect)(()=>(s.ival=setInterval(()=>{s.value+=.1333,s.value>=1.3&&(s.value=0),s.render()},200),fs.loadingIcon&&(s.icon=(0,V.jsx)("img",{alt:"loading",src:fs.loadingIcon,className:css`
            width: 42px;
            height: 42px;
          `}),s.render()),()=>{clearInterval(s.ival)}),[]),(0,V.jsxs)(V.Fragment,{children:[r!==!1&&(0,V.jsx)("div",{className:cx("flex items-center z-40 bg-white pointer-events-none","w-full h-full fixed transition-all duration-1000",typeof t<"u"?t?"opacity-50":"opacity-0":"opacity-50"),onContextMenuCapture:c=>{c.preventDefault()}}),n?(0,V.jsx)("div",{onContextMenuCapture:c=>{c.preventDefault()},className:cx("flex flex-1 items-center justify-center z-40 transition-all",e||(r!==!1?"w-full h-full fixed":""),typeof t<"u"?t?"":"hidden":""),children:(0,V.jsx)("div",{className:"flex items-center justify-center flex-col space-y-3 bg-white p-4 rounded-lg select-none",children:(0,V.jsx)("div",{className:"text-sm",children:n})})}):(0,V.jsx)("div",{className:cx("flex flex-1 items-center justify-center z-40 pointer-events-none transition-all",e||(r!==!1?"w-full h-full fixed":""),typeof t<"u"?t?"":"hidden":""),children:(0,V.jsxs)("div",{className:cx("w-1/6 flex flex-col items-center justify-center",css`
                min-width: 30px;
                .pr-outer {
                  background: rgba(0, 0, 0, 0.1) !important;
                }
              `),children:[(0,V.jsx)("div",{className:"text-[10px] text-slate-400 whitespace-nowrap",children:i}),(0,V.jsx)("div",{className:"pr-outer w-full h-[3px] flex items-stretch rounded-sm overflow-hidden",children:(0,V.jsx)("div",{className:cx("bg-blue-800 transition-all duration-200 rounded-sm w-full",css`
                    transform: translate(${-100+s.value*200}%);
                  `)})}),o]})})]})};var It=k(R()),ps=()=>{let n=te(we,"LIVE"),e=n.mode,t=Object.values(n.page?.content_tree?.childs||[]);n.layout.section&&n.layout.content&&(t=[n.layout.section]);let r=Object.values(t).map(i=>i.id);return(0,It.jsx)("div",{className:cx("relative flex flex-1 items-center justify-center"),children:(0,It.jsx)("div",{className:cx("absolute flex flex-col items-stretch flex-1 bg-white ",e==="mobile"?css`
                @media (min-width: 768px) {
                  border-left: 1px solid #ccc;
                  border-right: 1px solid #ccc;
                  width: 375px;
                  top: 0px;
                  overflow-x: hidden;
                  overflow-y: auto;
                  bottom: 0px;
                }
                @media (max-width: 767px) {
                  left: 0px;
                  right: 0px;
                  top: 0px;
                  bottom: 0px;
                  overflow-y: auto;
                }
              `:"inset-0 overflow-auto",css`
            contain: content;
          `),children:n.status==="ready"||n.status==="tree-rebuild"?r?.map(i=>(0,It.jsx)(us,{id:i},i)):(0,It.jsx)(mn,{})})})},ju=css`
  background-color: white;
  background-image: linear-gradient(45deg, #fafafa 25%, transparent 25%),
    linear-gradient(-45deg, #fafafa 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, #fafafa 75%),
    linear-gradient(-45deg, transparent 75%, #fafafa 75%);

  background-size: 20px 20px;
  background-position:
    0 0,
    0 10px,
    10px -10px,
    -10px 0px;
`;var gs=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function dl(n){return typeof n=="string"&&gs.test(n)}var Pr=dl;var ms=async n=>{if(n.site.layout){n.layout.section=n.site.layout;for(let e of n.layout.section.childs){let t=await ws(e);if(t){n.layout.content=t;break}}}},ws=async n=>{if(n.name==="content")return n;if(n.type==="item"&&!n.component?.id)for(let e of n.childs){let t=await ws(e);if(t)return t}};var L=window,ys=async(n,e)=>{if(n.status==="init"){n.status="loading",L.mobile&&(L.mobile.bind(n),L.mobile.send({type:"ready"})),L.isEditor=!1,L.isLayout=!0,L.apiHeaders={},L.navigateOverride=r=>(r&&r.startsWith("/")&&(L.basepath.length>1&&(r=`${L.basepath}${r}`),(location.hostname==="prasi.app"||location.hostname==="prasi.web.andromedia.co.id"||location.hostname.includes("ngrok")||location.hostname==="localhost"||location.hostname==="127.0.0.1"||location.hostname==="10.0.2.2")&&location.pathname.startsWith("/live")&&!r.startsWith("/live")&&(r=`/live/${location.pathname.split("/")[2]}${r}`)),r);let t=null;if(t=await n.loader.site(n,Pr(e)?{type:"siteid",id:e}:{type:"domain",domain:e}),t){if(L.exports={},t.cgroup_ids)for(let s of t.cgroup_ids)await Pe(n.loader.npm(n,"site",s));await Pe(n.loader.npm(n,"site",t.id)),n.site.id=t.id,n.site.layout=t.layout,n.site.js=t.js_compiled||"",n.site.responsive=t.responsive,await ms(n),n.site.api_url=await Yr(t.config,"prod"),L.apiurl=n.site.api_url;let r=await n.loader.pages(n,t.id),i=(s,c)=>n?(n.site.api_url&&(c.api=De(n.site.api_url),c.db=Ae(n.site.api_url)),c.params=L.params,c.module={},new Function(...Object.keys(c),s)(...Object.values(c))):null,o={types:{},exports:L.exports,load:Pe,render:n.render,module:{exports:{}}};if(i(n.site.js,o),o.module.exports)for(let[s,c]of Object.entries(o.module.exports))L.exports[s]=c;if(n.pages={},n.route=Me({strictTrailingSlash:!1}),r&&r.length>0)for(let s of r)n.pages[s.id]=s,n.route.insert(s.url,s);n.status="ready",n.render()}else n.status="not-found",n.render()}};var Ie=k(R()),df=({domain_or_siteid:n,pathname:e,loader:t,liveSync:r})=>{let i=te(we,"LIVE");if(i.loader=t,L.preload=s=>{ge(i,s)},i.site.id&&!i.mode&&i.site.responsive)if(i.site.responsive==="all"){let s=(0,bs.default)();i.mode=s.device.type==="mobile"?"mobile":"desktop",localStorage.getItem("prasi-editor-mode")&&(i.mode=localStorage.getItem("prasi-editor-mode"))}else i.site.responsive==="mobile-only"?i.mode="mobile":i.site.responsive==="desktop-only"&&(i.mode="desktop");let o=(0,wn.useCallback)(()=>{let s=i.mode;window.innerWidth<600?s="mobile":s="desktop",s!==i.mode&&(i.mode=s,i.render())},[i]);if((0,wn.useEffect)(()=>{i.site.id&&(window.removeEventListener("resize",o),i.site.responsive==="all"&&window.addEventListener("resize",o))},[i.site.responsive]),i.status==="init"&&ys(i,n),i.site.id&&Zo(i,e),i.mode)L.isMobile=i.mode==="mobile",L.isDesktop=i.mode==="desktop";else return(0,Ie.jsx)(mn,{});return i.status==="not-found"?(0,Ie.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center flex-col",children:[(0,Ie.jsx)("div",{className:"text-[40px]",children:"404"}),(0,Ie.jsx)("div",{children:"NOT FOUND"})]}):(0,Ie.jsx)(ps,{})};export{df as Live};
//# sourceMappingURL=live-WF76DSIF.js.map
