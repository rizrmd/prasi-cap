{
  "id": "52ff1b2d-c338-4202-8879-7baf8429cc6d",
  "name": "semester-tag",
  "content_tree": {
    "id": "vdheqzfik2htqlymzkdjs40d",
    "adv": {
      "js": "<div {...props}>{children}</div>",
      "css": "",
      "html": "",
      "jsBuilt": ""
    },
    "name": "semester-tag",
    "type": "item",
    "childs": [
      {
        "id": "m323zzoxzr4urqptdhcatio4",
        "adv": {
          "js": "<div {...props}>\r\n  <Local\r\n    name=\"local\"\r\n    value={{\r\n      color: \"white\",\r\n      smt: {\r\n        name: \"\",\r\n        m_stage: {\r\n          label_color: \"\",\r\n        },\r\n      },\r\n    }}\r\n    cache={false}\r\n    effect={async (local) => {\r\n      local.render()\r\n      // if ((!local.smt || !local.smt.name) && user) {\r\n        const smt = await db.m_semester.findFirst({\r\n          where: {\r\n            id: Number(user.id_smt),\r\n          },\r\n          select: {\r\n            name: true,\r\n            m_stage: {\r\n              select: {\r\n                label_color: true,\r\n              },\r\n            },\r\n          },\r\n        });\r\n        local.smt = smt;\r\n        if (local.smt) {\r\n          var c = local.smt.m_stage.label_color.substring(1); // strip #\r\n          var rgb = parseInt(c, 16); // convert rrggbb to decimal\r\n          var r = (rgb >> 16) & 0xff; // extract red\r\n          var g = (rgb >> 8) & 0xff; // extract green\r\n          var b = (rgb >> 0) & 0xff; // extract blue\r\n\r\n          var luma = 0.2126 * r + 0.7152 * g + 0.0722 * b; // per ITU-R BT.709\r\n\r\n          if (luma < 150) {\r\n            local.color = \"white\";\r\n          } else {\r\n            local.color = \"black\";\r\n          }\r\n        }\r\n        local.render();\r\n      // }\r\n    }}\r\n  >\r\n    {children}\r\n  </Local>\r\n</div>",
          "jsBuilt": "render(React.createElement(\"div\",{...props},React.createElement(Local,{name:\"local\",value:{color:\"white\",smt:{name:\"\",m_stage:{label_color:\"\"}}},cache:!1,effect:async e=>{e.render();let s=await db.m_semester.findFirst({where:{id:Number(user.id_smt)},select:{name:!0,m_stage:{select:{label_color:!0}}}});if(e.smt=s,e.smt){var t=e.smt.m_stage.label_color.substring(1),r=parseInt(t,16),a=r>>16&255,m=r>>8&255,i=r>>0&255,c=.2126*a+.7152*m+.0722*i;c<150?e.color=\"white\":e.color=\"black\"}e.render()}},children)));\n"
        },
        "name": "Wrapped",
        "type": "item",
        "childs": [
          {
            "id": "zlgqn8l7102y9d3peg8t7a73",
            "adv": {
              "js": "<div\r\n  {...props}\r\n  className={cx(\r\n    props.className,\r\n    local.smt\r\n      ? css`\r\n/** Custom CSS **/\r\nbackground: ${local.smt?.m_stage?.label_color} !important;\r\ncolor: ${local.color} !important;\r\n\r\n`\r\n      : undefined\r\n  )}\r\n>\r\n  {local.smt?.name || \"Semester Â·\"}\r\n</div>",
              "jsBuilt": "render(React.createElement(\"div\",{...props,className:cx(props.className,local.smt?css`\n/** Custom CSS **/\nbackground: ${local.smt?.m_stage?.label_color} !important;\ncolor: ${local.color} !important;\n\n`:void 0)},local.smt?.name||\"Semester \\xB7\"));\n"
            },
            "dim": {
              "h": "fit",
              "w": "full"
            },
            "html": "Semester 3",
            "name": "label",
            "text": "",
            "type": "text",
            "layout": {
              "dir": "col",
              "gap": 0,
              "align": "center"
            },
            "mobile": {
              "bg": {
                "pos": "center",
                "size": "cover",
                "color": "#b2b2b2"
              },
              "font": {
                "size": 15,
                "align": "left",
                "color": "#ffffff",
                "height": "auto",
                "wordBreak": "break-normal",
                "whitespace": "whitespace-normal"
              },
              "border": {
                "style": "solid",
                "rounded": {
                  "bl": 6,
                  "br": 6,
                  "tl": 6,
                  "tr": 6
                }
              },
              "layout": {
                "dir": "col",
                "gap": 0,
                "align": "left"
              },
              "padding": {
                "b": 0,
                "l": 18,
                "r": 18,
                "t": 0
              }
            }
          }
        ]
      }
    ],
    "mobile": {
      "bg": {
        "pos": "center",
        "size": "cover",
        "color": ""
      },
      "border": {
        "style": "solid",
        "rounded": {
          "bl": 0,
          "br": 0,
          "tl": 0,
          "tr": 0
        }
      },
      "padding": {
        "b": 0,
        "l": 0,
        "r": 0,
        "t": 0
      }
    },
    "component": {
      "id": "52ff1b2d-c338-4202-8879-7baf8429cc6d",
      "name": "semester-tag",
      "group": {
        "id": "e08f9ffa-e31f-4540-b651-a8b9ebd6e0e5"
      },
      "props": {
        "id_smt": {
          "idx": 0,
          "meta": {
            "type": "text"
          },
          "name": "prop",
          "type": "string",
          "value": "\"1\"",
          "valueBuilt": "\"1\";\n"
        }
      }
    }
  },
  "created_at": "2023-09-11T02:26:36.841Z",
  "updated_at": "2023-10-31T08:26:19.626Z",
  "type": "item",
  "id_component_group": "e08f9ffa-e31f-4540-b651-a8b9ebd6e0e5",
  "props": []
}